<!doctype html>
<html>
<head>
<meta charset="utf-8" />
<title>Lean goal trace: ProofsWMathlib/Lean/day_2025_12_30.lean</title>
<style>
  body {
    margin: 0; padding: 0;
    font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
    display: grid;
    grid-template-columns: 1.4fr 1fr;
    height: 100vh;
  }
  #left {
    border-right: 1px solid #ddd;
    overflow: auto;
    padding: 12px;
  }
  #right {
    overflow: auto;
    padding: 12px;
  }
  .row {
    white-space: pre;
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
    font-size: 13px;
    line-height: 1.5;
  }
  .ln {
    color: #888;
    display: inline-block;
    width: 4.5em;
    user-select: none;
  }
  .hit {
    border-radius: 6px;
    padding: 0 2px;
    cursor: pointer;
    background: rgba(255, 230, 150, 0.55);
  }
  .hit.active {
    outline: 2px solid rgba(0, 0, 0, 0.35);
    background: rgba(255, 200, 80, 0.75);
  }
  #goal {
    white-space: pre-wrap;
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
    font-size: 13px;
    line-height: 1.4;
  }
  .meta {
    color: #666;
    font-size: 12px;
    margin-bottom: 10px;
  }
</style>
</head>
<body>
  <div id="left">
    <div class="meta">
      <div><b>File:</b> ProofsWMathlib/Lean/day_2025_12_30.lean</div>
      <div><b>Unique states:</b> 94 &nbsp; <b>Occurrences:</b> 251</div>
      <div>Click a highlighted segment to view the cached goal state.</div>
    </div>
    <div id="code">
      <div class="row"><span class="ln">   1</span><span class="code">import Mathlib.Data.Setoid.Basic</span></div><div class="row"><span class="ln">   2</span><span class="code">import Mathlib.Data.Setoid.Partition</span></div><div class="row"><span class="ln">   3</span><span class="code">open Function</span></div><div class="row"><span class="ln">   4</span><span class="code"></span></div><div class="row"><span class="ln">   5</span><span class="code">/-</span></div><div class="row"><span class="ln">   6</span><span class="code">Algebra Chapter 0. I.1.2</span></div><div class="row"><span class="ln">   7</span><span class="code"></span></div><div class="row"><span class="ln">   8</span><span class="code">Prove that if ∼ is an equivalence relation on a set S, then the corresponding</span></div><div class="row"><span class="ln">   9</span><span class="code">family P∼ defined in §1.5 is indeed a partition of S: that is, its elements are</span></div><div class="row"><span class="ln">  10</span><span class="code">nonempty, disjoint, and their union is S. [§1.5]</span></div><div class="row"><span class="ln">  11</span><span class="code">-/</span></div><div class="row"><span class="ln">  12</span><span class="code"></span></div><div class="row"><span class="ln">  13</span><span class="code">theorem setoid_trans (r : Setoid a) (x y z : a) (h : (r x y) ∧ (r y z)) : (r x z) := <span class="hit" data-h="423430c75cf7dedf" data-ln="12" data-a="85" data-b="87">by</span></span></div><div class="row"><span class="ln">  14</span><span class="code"><span class="hit" data-h="423430c75cf7dedf" data-ln="13" data-a="0" data-b="3">  r</span><span class="hit" data-h="c2f430406fef1909" data-ln="13" data-a="3" data-b="24">cases h with ⟨hP, hQ⟩</span></span></div><div class="row"><span class="ln">  15</span><span class="code"><span class="hit" data-h="c2f430406fef1909" data-ln="14" data-a="0" data-b="3">  e</span><span class="hit" data-h="d7064e63adc3d44c" data-ln="14" data-a="3" data-b="21">xact r.trans hP hQ</span></span></div><div class="row"><span class="ln">  16</span><span class="code"></span></div><div class="row"><span class="ln">  17</span><span class="code">theorem setoid_refl (r : Setoid a) : (∀ x : a, r x x) := <span class="hit" data-h="87d4e0783d863b17" data-ln="16" data-a="57" data-b="59">by</span></span></div><div class="row"><span class="ln">  18</span><span class="code"><span class="hit" data-h="87d4e0783d863b17" data-ln="17" data-a="0" data-b="5">    e</span><span class="hit" data-h="d7064e63adc3d44c" data-ln="17" data-a="5" data-b="16">xact r.refl</span></span></div><div class="row"><span class="ln">  19</span><span class="code"></span></div><div class="row"><span class="ln">  20</span><span class="code">theorem classes_nonempty (r : Setoid a) : ∅ ∉ r.classes := <span class="hit" data-h="cbf4e95ac8443594" data-ln="19" data-a="59" data-b="61">by</span></span></div><div class="row"><span class="ln">  21</span><span class="code"><span class="hit" data-h="cbf4e95ac8443594" data-ln="20" data-a="0" data-b="3">  s</span><span class="hit" data-h="642270731809ad84" data-ln="20" data-a="3" data-b="23">imp [Setoid.classes]</span></span></div><div class="row"><span class="ln">  22</span><span class="code"><span class="hit" data-h="642270731809ad84" data-ln="21" data-a="0" data-b="3">  i</span><span class="hit" data-h="4b5aa881f5ad7003" data-ln="21" data-a="3" data-b="11">ntro x h</span></span></div><div class="row"><span class="ln">  23</span><span class="code"><span class="hit" data-h="3e70355ceabe5c9b" data-ln="22" data-a="0" data-b="12">  -- intro h</span></span></div><div class="row"><span class="ln">  24</span><span class="code"><span class="hit" data-h="3e70355ceabe5c9b" data-ln="23" data-a="0" data-b="35">  have hx : x ∈ {x_1 | r x_1 x} := </span><span class="hit" data-h="022870f1153733c1" data-ln="23" data-a="35" data-b="37">by</span></span></div><div class="row"><span class="ln">  25</span><span class="code"><span class="hit" data-h="022870f1153733c1" data-ln="24" data-a="0" data-b="5">    a</span><span class="hit" data-h="d7064e63adc3d44c" data-ln="24" data-a="5" data-b="18">pply r.refl x</span></span></div><div class="row"><span class="ln">  26</span><span class="code"><span class="hit" data-h="f69cb4a04584cf12" data-ln="25" data-a="0" data-b="31">  have he : x ∈ (∅ : Set a) := </span><span class="hit" data-h="21ee90b13dce56e7" data-ln="25" data-a="31" data-b="33">by</span></span></div><div class="row"><span class="ln">  27</span><span class="code"><span class="hit" data-h="21ee90b13dce56e7" data-ln="26" data-a="0" data-b="21">    -- simp [hx] at h</span></span></div><div class="row"><span class="ln">  28</span><span class="code"><span class="hit" data-h="21ee90b13dce56e7" data-ln="27" data-a="0" data-b="9">    rw [h</span><span class="hit" data-h="2f2d558968373654" data-ln="27" data-a="9" data-b="10">]</span></span></div><div class="row"><span class="ln">  29</span><span class="code"><span class="hit" data-h="2f2d558968373654" data-ln="28" data-a="0" data-b="5">    e</span><span class="hit" data-h="d7064e63adc3d44c" data-ln="28" data-a="5" data-b="12">xact hx</span></span></div><div class="row"><span class="ln">  30</span><span class="code"><span class="hit" data-h="4a381481f316fb85" data-ln="29" data-a="0" data-b="3">  e</span><span class="hit" data-h="d7064e63adc3d44c" data-ln="29" data-a="3" data-b="10">xact he</span></span></div><div class="row"><span class="ln">  31</span><span class="code"></span></div><div class="row"><span class="ln">  32</span><span class="code"><span class="hit" data-h="d7064e63adc3d44c" data-ln="31" data-a="0" data-b="2">/-</span></span></div><div class="row"><span class="ln">  33</span><span class="code"><span class="hit" data-h="d7064e63adc3d44c" data-ln="32" data-a="0" data-b="63">it will be easier to show ∀ a, ∃! b ∈ c, a ∈ b then pw disjoint</span></span></div><div class="row"><span class="ln">  34</span><span class="code"><span class="hit" data-h="d7064e63adc3d44c" data-ln="33" data-a="0" data-b="2">-/</span></span></div><div class="row"><span class="ln">  35</span><span class="code">theorem classes_pw_disjoint (r : Setoid a) : (r.classes.PairwiseDisjoint id) := <span class="hit" data-h="25fbb79192158283" data-ln="34" data-a="80" data-b="82">by</span></span></div><div class="row"><span class="ln">  36</span><span class="code"><span class="hit" data-h="25fbb79192158283" data-ln="35" data-a="0" data-b="56">  -- simp [Set.PairwiseDisjoint, Set.Pairwise, Disjoint]</span></span></div><div class="row"><span class="ln">  37</span><span class="code"><span class="hit" data-h="25fbb79192158283" data-ln="36" data-a="0" data-b="40">  -- exact r.classes.PairwiseDisjoint id</span></span></div><div class="row"><span class="ln">  38</span><span class="code"><span class="hit" data-h="25fbb79192158283" data-ln="37" data-a="0" data-b="91">  -- simpa using (Setoid.IsPartition.pairwiseDisjoint (hc := Setoid.isPartition_classes r))</span></span></div><div class="row"><span class="ln">  39</span><span class="code"><span class="hit" data-h="25fbb79192158283" data-ln="38" data-a="0" data-b="3">  h</span><span class="hit" data-h="94c567e874da4434" data-ln="38" data-a="3" data-b="72">ave hc : Setoid.IsPartition r.classes := Setoid.isPartition_classes r</span></span></div><div class="row"><span class="ln">  40</span><span class="code"><span class="hit" data-h="94c567e874da4434" data-ln="39" data-a="0" data-b="3">  s</span><span class="hit" data-h="5b0f43623bdf5acf" data-ln="39" data-a="3" data-b="33">imp [Setoid.IsPartition] at hc</span></span></div><div class="row"><span class="ln">  41</span><span class="code"><span class="hit" data-h="5b0f43623bdf5acf" data-ln="40" data-a="0" data-b="3">  s</span><span class="hit" data-h="d7064e63adc3d44c" data-ln="40" data-a="3" data-b="7">orry</span></span></div><div class="row"><span class="ln">  42</span><span class="code"><span class="hit" data-h="d7064e63adc3d44c" data-ln="41" data-a="0" data-b="2">/-</span></span></div><div class="row"><span class="ln">  43</span><span class="code"></span></div><div class="row"><span class="ln">  44</span><span class="code"><span class="hit" data-h="d7064e63adc3d44c" data-ln="43" data-a="0" data-b="88">the general proof is to deconstruct an iff of xe in x -&gt; xe in y and xe in y -&gt; xe in x.</span></span></div><div class="row"><span class="ln">  45</span><span class="code"></span></div><div class="row"><span class="ln">  46</span><span class="code"><span class="hit" data-h="d7064e63adc3d44c" data-ln="45" data-a="0" data-b="49">this is a direct result of the transitivity of r.</span></span></div><div class="row"><span class="ln">  47</span><span class="code"></span></div><div class="row"><span class="ln">  48</span><span class="code"><span class="hit" data-h="d7064e63adc3d44c" data-ln="47" data-a="0" data-b="93">we show that r z a1 and r z a2 =&gt; r a1 a2. then since we know xe in x, r xe a1, thus r xe a2.</span></span></div><div class="row"><span class="ln">  49</span><span class="code"></span></div><div class="row"><span class="ln">  50</span><span class="code"><span class="hit" data-h="d7064e63adc3d44c" data-ln="49" data-a="0" data-b="14">and vice versa</span></span></div><div class="row"><span class="ln">  51</span><span class="code"></span></div><div class="row"><span class="ln">  52</span><span class="code"><span class="hit" data-h="d7064e63adc3d44c" data-ln="51" data-a="0" data-b="2">-/</span></span></div><div class="row"><span class="ln">  53</span><span class="code">theorem nondisjoint_classes_eq (r : Setoid a) (h1 : x ∈ r.classes) (h2 : y ∈ r.classes)</span></div><div class="row"><span class="ln">  54</span><span class="code">  (hz : (z : a) ∈ x ∧ z ∈ y) : x = y := <span class="hit" data-h="97174ce8d49c20a8" data-ln="53" data-a="40" data-b="42">by</span></span></div><div class="row"><span class="ln">  55</span><span class="code"><span class="hit" data-h="97174ce8d49c20a8" data-ln="54" data-a="0" data-b="3">  r</span><span class="hit" data-h="29b76b55fdf7c473" data-ln="54" data-a="3" data-b="27">cases hz with ⟨inx, iny⟩</span></span></div><div class="row"><span class="ln">  56</span><span class="code"></span></div><div class="row"><span class="ln">  57</span><span class="code"><span class="hit" data-h="29b76b55fdf7c473" data-ln="56" data-a="0" data-b="3">  r</span><span class="hit" data-h="344fbe88725e1e23" data-ln="56" data-a="3" data-b="10">cases (</span><span class="hit" data-h="a3f77cb519f9e180" data-ln="56" data-a="10" data-b="42">by simpa [Setoid.classes] using </span><span class="hit" data-h="d7064e63adc3d44c" data-ln="56" data-a="42" data-b="45">h1)</span><span class="hit" data-h="344fbe88725e1e23" data-ln="56" data-a="45" data-b="60"> with ⟨a1, rfl⟩</span></span></div><div class="row"><span class="ln">  58</span><span class="code"><span class="hit" data-h="344fbe88725e1e23" data-ln="57" data-a="0" data-b="3">  r</span><span class="hit" data-h="928beb8e2b40d0b3" data-ln="57" data-a="3" data-b="10">cases (</span><span class="hit" data-h="fd13b45f36bc1424" data-ln="57" data-a="10" data-b="42">by simpa [Setoid.classes] using </span><span class="hit" data-h="d7064e63adc3d44c" data-ln="57" data-a="42" data-b="45">h2)</span><span class="hit" data-h="928beb8e2b40d0b3" data-ln="57" data-a="45" data-b="60"> with ⟨a2, rfl⟩</span></span></div><div class="row"><span class="ln">  59</span><span class="code"></span></div><div class="row"><span class="ln">  60</span><span class="code"><span class="hit" data-h="928beb8e2b40d0b3" data-ln="59" data-a="0" data-b="23">  have hzx : r z a1 := </span><span class="hit" data-h="a4fe7596979d7c3f" data-ln="59" data-a="23" data-b="27">by e</span><span class="hit" data-h="d7064e63adc3d44c" data-ln="59" data-a="27" data-b="35">xact inx</span></span></div><div class="row"><span class="ln">  61</span><span class="code"><span class="hit" data-h="f671e45f732256d1" data-ln="60" data-a="0" data-b="23">  have hzy : r z a2 := </span><span class="hit" data-h="d87708d72d9e5fcb" data-ln="60" data-a="23" data-b="27">by e</span><span class="hit" data-h="d7064e63adc3d44c" data-ln="60" data-a="27" data-b="35">xact iny</span></span></div><div class="row"><span class="ln">  62</span><span class="code"><span class="hit" data-h="5470057c0649466f" data-ln="61" data-a="0" data-b="24">  have hxy : r a1 a2 := </span><span class="hit" data-h="31444a88aed1966a" data-ln="61" data-a="24" data-b="28">by e</span><span class="hit" data-h="d7064e63adc3d44c" data-ln="61" data-a="28" data-b="57">xact r.trans (r.symm hzx) hzy</span></span></div><div class="row"><span class="ln">  63</span><span class="code"></span></div><div class="row"><span class="ln">  64</span><span class="code"><span class="hit" data-h="29244e5cfd90b1fb" data-ln="63" data-a="0" data-b="3">  e</span><span class="hit" data-h="63a8c0b647da790f" data-ln="63" data-a="3" data-b="8">xt xe</span></span></div><div class="row"><span class="ln">  65</span><span class="code"><span class="hit" data-h="63a8c0b647da790f" data-ln="64" data-a="0" data-b="3">  c</span><span class="hit" data-h="9b4aa98cb2e090a8" data-ln="64" data-a="3" data-b="13">onstructor</span></span></div><div class="row"><span class="ln">  66</span><span class="code"></span></div><div class="row"><span class="ln">  67</span><span class="code"><span class="hit" data-h="9b4aa98cb2e090a8" data-ln="66" data-a="0" data-b="3">  ·</span><span class="hit" data-h="b466df943c208b12" data-ln="66" data-a="3" data-b="5"> i</span><span class="hit" data-h="8b3e569aba0c276f" data-ln="66" data-a="5" data-b="13">ntro hxe</span></span></div><div class="row"><span class="ln">  68</span><span class="code"><span class="hit" data-h="8b3e569aba0c276f" data-ln="67" data-a="0" data-b="27">    have hxex : r xe a1 := </span><span class="hit" data-h="82ae5d69689d39d4" data-ln="67" data-a="27" data-b="42">by simpa using </span><span class="hit" data-h="d7064e63adc3d44c" data-ln="67" data-a="42" data-b="45">hxe</span></span></div><div class="row"><span class="ln">  69</span><span class="code"><span class="hit" data-h="3511cd4a97d1055d" data-ln="68" data-a="0" data-b="5">    c</span><span class="hit" data-h="65fa206e2de0d4d8" data-ln="68" data-a="5" data-b="18">hange r xe a2</span></span></div><div class="row"><span class="ln">  70</span><span class="code"><span class="hit" data-h="65fa206e2de0d4d8" data-ln="69" data-a="0" data-b="5">    e</span><span class="hit" data-h="d7064e63adc3d44c" data-ln="69" data-a="5" data-b="26">xact r.trans hxex hxy</span></span></div><div class="row"><span class="ln">  71</span><span class="code"></span></div><div class="row"><span class="ln">  72</span><span class="code"><span class="hit" data-h="60615cdbd7203971" data-ln="71" data-a="0" data-b="5">  · i</span><span class="hit" data-h="aee9bcc27c1ac6b6" data-ln="71" data-a="5" data-b="13">ntro hxe</span></span></div><div class="row"><span class="ln">  73</span><span class="code"><span class="hit" data-h="aee9bcc27c1ac6b6" data-ln="72" data-a="0" data-b="27">    have hxex : r xe a2 := </span><span class="hit" data-h="a49d7ce3bfef46c4" data-ln="72" data-a="27" data-b="42">by simpa using </span><span class="hit" data-h="d7064e63adc3d44c" data-ln="72" data-a="42" data-b="45">hxe</span></span></div><div class="row"><span class="ln">  74</span><span class="code"><span class="hit" data-h="6aefb68b545a776c" data-ln="73" data-a="0" data-b="5">    c</span><span class="hit" data-h="66d385643517d439" data-ln="73" data-a="5" data-b="18">hange r xe a1</span></span></div><div class="row"><span class="ln">  75</span><span class="code"><span class="hit" data-h="66d385643517d439" data-ln="74" data-a="0" data-b="5">    e</span><span class="hit" data-h="d7064e63adc3d44c" data-ln="74" data-a="5" data-b="35">xact r.trans hxex (r.symm hxy)</span></span></div><div class="row"><span class="ln">  76</span><span class="code"></span></div><div class="row"><span class="ln">  77</span><span class="code"></span></div><div class="row"><span class="ln">  78</span><span class="code">theorem exists_class (r : Setoid a) :(∀ x : a, ∃ b ∈ r.classes, x ∈ b) := <span class="hit" data-h="daf25fdf9ee576c7" data-ln="77" data-a="74" data-b="76">by</span></span></div><div class="row"><span class="ln">  79</span><span class="code"><span class="hit" data-h="daf25fdf9ee576c7" data-ln="78" data-a="0" data-b="3">  i</span><span class="hit" data-h="2c6abf50d0c45114" data-ln="78" data-a="3" data-b="9">ntro x</span></span></div><div class="row"><span class="ln">  80</span><span class="code"><span class="hit" data-h="2c6abf50d0c45114" data-ln="79" data-a="0" data-b="26">  -- let xc := {z | r z x}</span></span></div><div class="row"><span class="ln">  81</span><span class="code"><span class="hit" data-h="2c6abf50d0c45114" data-ln="80" data-a="0" data-b="63">  -- then show that xc in r.classes and use xc as witness for b</span></span></div><div class="row"><span class="ln">  82</span><span class="code"><span class="hit" data-h="2c6abf50d0c45114" data-ln="81" data-a="0" data-b="3">  u</span><span class="hit" data-h="ff6915a7d0f489b6" data-ln="81" data-a="3" data-b="17">se {z | r z x}</span></span></div><div class="row"><span class="ln">  83</span><span class="code"><span class="hit" data-h="ff6915a7d0f489b6" data-ln="82" data-a="0" data-b="3">  c</span><span class="hit" data-h="68b30d590be23b19" data-ln="82" data-a="3" data-b="13">onstructor</span></span></div><div class="row"><span class="ln">  84</span><span class="code"><span class="hit" data-h="68b30d590be23b19" data-ln="83" data-a="0" data-b="3">  ·</span><span class="hit" data-h="2d48a259c9480e9d" data-ln="83" data-a="3" data-b="9"> rw [S</span><span class="hit" data-h="fecaafc217415352" data-ln="83" data-a="9" data-b="23">etoid.classes]</span></span></div><div class="row"><span class="ln">  85</span><span class="code"><span class="hit" data-h="fecaafc217415352" data-ln="84" data-a="0" data-b="5">    u</span><span class="hit" data-h="d7064e63adc3d44c" data-ln="84" data-a="5" data-b="9">se x</span></span></div><div class="row"><span class="ln">  86</span><span class="code"><span class="hit" data-h="627ede267eb3c56f" data-ln="85" data-a="0" data-b="5">  · e</span><span class="hit" data-h="d7064e63adc3d44c" data-ln="85" data-a="5" data-b="18">xact r.refl x</span></span></div><div class="row"><span class="ln">  87</span><span class="code"></span></div><div class="row"><span class="ln">  88</span><span class="code">theorem covers_unique (r : Setoid a) : (∀ x : a, ∃! b ∈ r.classes, x ∈ b) := <span class="hit" data-h="64c0ba5db5793169" data-ln="87" data-a="77" data-b="79">by</span></span></div><div class="row"><span class="ln">  89</span><span class="code"><span class="hit" data-h="64c0ba5db5793169" data-ln="88" data-a="0" data-b="3">  i</span><span class="hit" data-h="a9cee73c5ef487ac" data-ln="88" data-a="3" data-b="9">ntro x</span></span></div><div class="row"><span class="ln">  90</span><span class="code"><span class="hit" data-h="a9cee73c5ef487ac" data-ln="89" data-a="0" data-b="3">  r</span><span class="hit" data-h="93f05608bef39e28" data-ln="89" data-a="3" data-b="51">cases exists_class r x with ⟨b, hb_classes, hxb⟩</span></span></div><div class="row"><span class="ln">  91</span><span class="code"><span class="hit" data-h="93f05608bef39e28" data-ln="90" data-a="0" data-b="3">  r</span><span class="hit" data-h="2675629fd00dcdee" data-ln="90" data-a="3" data-b="20">efine ⟨b, ?_, ?_⟩</span></span></div><div class="row"><span class="ln">  92</span><span class="code"><span class="hit" data-h="2675629fd00dcdee" data-ln="91" data-a="0" data-b="3">  ·</span><span class="hit" data-h="4729fbf52c4491b6" data-ln="91" data-a="3" data-b="5"> c</span><span class="hit" data-h="62662f84a4e8861e" data-ln="91" data-a="5" data-b="32">hange b ∈ r.classes ∧ x ∈ b</span></span></div><div class="row"><span class="ln">  93</span><span class="code"><span class="hit" data-h="62662f84a4e8861e" data-ln="92" data-a="0" data-b="5">    e</span><span class="hit" data-h="d7064e63adc3d44c" data-ln="92" data-a="5" data-b="27">xact ⟨hb_classes, hxb⟩</span></span></div><div class="row"><span class="ln">  94</span><span class="code"><span class="hit" data-h="1b9ca7745b4348e4" data-ln="93" data-a="0" data-b="5">  · i</span><span class="hit" data-h="79c94c1463a23e6c" data-ln="93" data-a="5" data-b="11">ntro y</span></span></div><div class="row"><span class="ln">  95</span><span class="code"><span class="hit" data-h="79c94c1463a23e6c" data-ln="94" data-a="0" data-b="5">    s</span><span class="hit" data-h="01f963752f304d2c" data-ln="94" data-a="5" data-b="8">imp</span></span></div><div class="row"><span class="ln">  96</span><span class="code"><span class="hit" data-h="01f963752f304d2c" data-ln="95" data-a="0" data-b="5">    i</span><span class="hit" data-h="330eb996f77396d8" data-ln="95" data-a="5" data-b="14">ntro hy h</span><span class="hit" data-h="e220392fafd741c1" data-ln="95" data-a="14" data-b="16">xe</span></span></div><div class="row"><span class="ln">  97</span><span class="code"><span class="hit" data-h="e220392fafd741c1" data-ln="96" data-a="0" data-b="5">    e</span><span class="hit" data-h="d7064e63adc3d44c" data-ln="96" data-a="5" data-b="59">xact nondisjoint_classes_eq r hy hb_classes ⟨hxe, hxb⟩</span></span></div><div class="row"><span class="ln">  98</span><span class="code"></span></div><div class="row"><span class="ln">  99</span><span class="code">theorem setoid_is_partition (r : Setoid a) : Setoid.IsPartition r.classes := <span class="hit" data-h="56b12f4fe15bc13f" data-ln="98" data-a="77" data-b="79">by</span></span></div><div class="row"><span class="ln"> 100</span><span class="code"><span class="hit" data-h="56b12f4fe15bc13f" data-ln="99" data-a="0" data-b="7">  rw [S</span><span class="hit" data-h="038712701bd5febf" data-ln="99" data-a="7" data-b="25">etoid.IsPartition]</span></span></div><div class="row"><span class="ln"> 101</span><span class="code"><span class="hit" data-h="038712701bd5febf" data-ln="100" data-a="0" data-b="3">  c</span><span class="hit" data-h="db058e9dff2ffb6b" data-ln="100" data-a="3" data-b="13">onstructor</span></span></div><div class="row"><span class="ln"> 102</span><span class="code"><span class="hit" data-h="db058e9dff2ffb6b" data-ln="101" data-a="0" data-b="3">  ·</span><span class="hit" data-h="7a86b5f635442f3f" data-ln="101" data-a="3" data-b="5"> e</span><span class="hit" data-h="d7064e63adc3d44c" data-ln="101" data-a="5" data-b="28">xact classes_nonempty r</span></span></div><div class="row"><span class="ln"> 103</span><span class="code"><span class="hit" data-h="10dd01a77fb6a9e9" data-ln="102" data-a="0" data-b="5">  · e</span><span class="hit" data-h="d7064e63adc3d44c" data-ln="102" data-a="5" data-b="25">xact covers_unique r</span></span></div><div class="row"><span class="ln"> 104</span><span class="code"></span></div><div class="row"><span class="ln"> 105</span><span class="code"></span></div><div class="row"><span class="ln"> 106</span><span class="code">section right_inv_imp_surjective</span></div><div class="row"><span class="ln"> 107</span><span class="code">/-</span></div><div class="row"><span class="ln"> 108</span><span class="code">ACh0: I.2.2</span></div><div class="row"><span class="ln"> 109</span><span class="code"></span></div><div class="row"><span class="ln"> 110</span><span class="code">2.2.  Prove statement (2) in Proposition 2.1. You may assume that given a family</span></div><div class="row"><span class="ln"> 111</span><span class="code">of disjoint nonempty subsets of a set, there is a way to choose one element in each</span></div><div class="row"><span class="ln"> 112</span><span class="code">member of the family13. [§2.5, V.3.3]</span></div><div class="row"><span class="ln"> 113</span><span class="code"></span></div><div class="row"><span class="ln"> 114</span><span class="code">Proposition 2.1. Assume A = ∅, and let f : A → B be a function. Then</span></div><div class="row"><span class="ln"> 115</span><span class="code">(1) f has a left-inverse if and only if it is injective.</span></div><div class="row"><span class="ln"> 116</span><span class="code">(2) f has a right-inverse if and only if it is surjective.</span></div><div class="row"><span class="ln"> 117</span><span class="code"></span></div><div class="row"><span class="ln"> 118</span><span class="code"></span></div><div class="row"><span class="ln"> 119</span><span class="code">(1)</span></div><div class="row"><span class="ln"> 120</span><span class="code">  =&gt;) if has left inv then g circ f = id_A</span></div><div class="row"><span class="ln"> 121</span><span class="code">    a1 and a2 in A then gf(a1) = a1 gf(a2) = a2 so gf(a1) = gf(a2) only if a1=a2 (defn of injective)</span></div><div class="row"><span class="ln"> 122</span><span class="code"></span></div><div class="row"><span class="ln"> 123</span><span class="code">-/</span></div><div class="row"><span class="ln"> 124</span><span class="code"></span></div><div class="row"><span class="ln"> 125</span><span class="code">/-</span></div><div class="row"><span class="ln"> 126</span><span class="code"></span></div><div class="row"><span class="ln"> 127</span><span class="code">this version of the proof attempts to use as much mathlib as possible</span></div><div class="row"><span class="ln"> 128</span><span class="code">-/</span></div><div class="row"><span class="ln"> 129</span><span class="code">theorem mathlib_inj_iff_has_left_inv (f : A -&gt; B) [Nonempty A]</span></div><div class="row"><span class="ln"> 130</span><span class="code">  : Injective f ↔ HasLeftInverse f := <span class="hit" data-h="9221c75d86f21322" data-ln="129" data-a="38" data-b="40">by</span></span></div><div class="row"><span class="ln"> 131</span><span class="code"><span class="hit" data-h="9221c75d86f21322" data-ln="130" data-a="0" data-b="3">  c</span><span class="hit" data-h="39be14f0647176f8" data-ln="130" data-a="3" data-b="13">onstructor</span></span></div><div class="row"><span class="ln"> 132</span><span class="code"><span class="hit" data-h="39be14f0647176f8" data-ln="131" data-a="0" data-b="3">  ·</span><span class="hit" data-h="d903e74ffa13cd9c" data-ln="131" data-a="3" data-b="5"> s</span><span class="hit" data-h="d7064e63adc3d44c" data-ln="131" data-a="5" data-b="9">orry</span></span></div><div class="row"><span class="ln"> 133</span><span class="code"><span class="hit" data-h="2a9016a1fb414b04" data-ln="132" data-a="0" data-b="5">  . e</span><span class="hit" data-h="d7064e63adc3d44c" data-ln="132" data-a="5" data-b="43">xact Function.HasLeftInverse.injective</span></span></div><div class="row"><span class="ln"> 134</span><span class="code"></span></div><div class="row"><span class="ln"> 135</span><span class="code"></span></div><div class="row"><span class="ln"> 136</span><span class="code"><span class="hit" data-h="d7064e63adc3d44c" data-ln="135" data-a="0" data-b="2">/-</span></span></div><div class="row"><span class="ln"> 137</span><span class="code"><span class="hit" data-h="d7064e63adc3d44c" data-ln="136" data-a="0" data-b="18">using less mathlib</span></span></div><div class="row"><span class="ln"> 138</span><span class="code"><span class="hit" data-h="d7064e63adc3d44c" data-ln="137" data-a="0" data-b="2">-/</span></span></div><div class="row"><span class="ln"> 139</span><span class="code">theorem mathlib_inj_iff_has_left_inv2 (f : A -&gt; B) (hne: Nonempty A)</span></div><div class="row"><span class="ln"> 140</span><span class="code">  : Injective f ↔ HasLeftInverse f := <span class="hit" data-h="fdab68441ed3e727" data-ln="139" data-a="38" data-b="40">by</span></span></div><div class="row"><span class="ln"> 141</span><span class="code"><span class="hit" data-h="fdab68441ed3e727" data-ln="140" data-a="0" data-b="3">  c</span><span class="hit" data-h="e4e383677dc60a3d" data-ln="140" data-a="3" data-b="13">onstructor</span></span></div><div class="row"><span class="ln"> 142</span><span class="code"><span class="hit" data-h="e4e383677dc60a3d" data-ln="141" data-a="0" data-b="3">  ·</span><span class="hit" data-h="1b6195e8d1f45843" data-ln="141" data-a="3" data-b="5"> c</span><span class="hit" data-h="d7064e63adc3d44c" data-ln="141" data-a="5" data-b="13">lassical</span></span></div><div class="row"><span class="ln"> 143</span><span class="code"><span class="hit" data-h="d7064e63adc3d44c" data-ln="142" data-a="0" data-b="4">    </span><span class="hit" data-h="1b6195e8d1f45843" data-ln="142" data-a="4" data-b="5">i</span><span class="hit" data-h="75b19c49be27bda4" data-ln="142" data-a="5" data-b="14">ntro hinj</span></span></div><div class="row"><span class="ln"> 144</span><span class="code"><span class="hit" data-h="75b19c49be27bda4" data-ln="143" data-a="0" data-b="79">    -- so since a ≠ a&#x27; =&gt; f a ≠ f a&#x27; for each a in A, we can define g(f(a)) = a</span></span></div><div class="row"><span class="ln"> 145</span><span class="code"><span class="hit" data-h="75b19c49be27bda4" data-ln="144" data-a="0" data-b="86">    -- this satisfies the definition of a partial left inverse. so then since f is not</span></span></div><div class="row"><span class="ln"> 146</span><span class="code"><span class="hit" data-h="75b19c49be27bda4" data-ln="145" data-a="0" data-b="93">    -- guaranteed to be surjective, we choose an arbitrary element of a to send (B \ im f) to</span></span></div><div class="row"><span class="ln"> 147</span><span class="code"><span class="hit" data-h="75b19c49be27bda4" data-ln="146" data-a="0" data-b="5">    l</span><span class="hit" data-h="b66b1040886e289a" data-ln="146" data-a="5" data-b="21">et g : B -&gt; A :=</span></span></div><div class="row"><span class="ln"> 148</span><span class="code"><span class="hit" data-h="b66b1040886e289a" data-ln="147" data-a="0" data-b="33">     fun b =&gt; dite (∃ a, f a = b)</span></span></div><div class="row"><span class="ln"> 149</span><span class="code"><span class="hit" data-h="b66b1040886e289a" data-ln="148" data-a="0" data-b="43">              (fun h =&gt; Classical.choose h)</span></span></div><div class="row"><span class="ln"> 150</span><span class="code"><span class="hit" data-h="b66b1040886e289a" data-ln="149" data-a="0" data-b="45">              (fun _ =&gt; Classical.choice hne)</span></span></div><div class="row"><span class="ln"> 151</span><span class="code"><span class="hit" data-h="b66b1040886e289a" data-ln="150" data-a="0" data-b="57">    -- now we just need to show the left inverse property</span></span></div><div class="row"><span class="ln"> 152</span><span class="code"><span class="hit" data-h="b66b1040886e289a" data-ln="151" data-a="0" data-b="57">    -- that ∀a g(f(a)) = a and that g is a total function</span></span></div><div class="row"><span class="ln"> 153</span><span class="code"><span class="hit" data-h="b66b1040886e289a" data-ln="152" data-a="0" data-b="92">    -- g is already proved to be total, otherwise we could not construct a term of type B-&gt;A</span></span></div><div class="row"><span class="ln"> 154</span><span class="code"><span class="hit" data-h="b66b1040886e289a" data-ln="153" data-a="0" data-b="55">    -- now all we need to do is show the left inv prop.</span></span></div><div class="row"><span class="ln"> 155</span><span class="code"><span class="hit" data-h="b66b1040886e289a" data-ln="154" data-a="0" data-b="5">    r</span><span class="hit" data-h="0c387e37b7a9d2d0" data-ln="154" data-a="5" data-b="18">efine ⟨g, ?_⟩</span></span></div><div class="row"><span class="ln"> 156</span><span class="code"><span class="hit" data-h="0c387e37b7a9d2d0" data-ln="155" data-a="0" data-b="5">    i</span><span class="hit" data-h="7183bc63afdab730" data-ln="155" data-a="5" data-b="11">ntro a</span></span></div><div class="row"><span class="ln"> 157</span><span class="code"><span class="hit" data-h="7183bc63afdab730" data-ln="156" data-a="0" data-b="5">    h</span><span class="hit" data-h="8cb216db13bb8c38" data-ln="156" data-a="5" data-b="47">ave hex : ∃ a&#x27; : A, f a&#x27; = f a := ⟨a, rfl⟩</span></span></div><div class="row"><span class="ln"> 158</span><span class="code"></span></div><div class="row"><span class="ln"> 159</span><span class="code"><span class="hit" data-h="8cb216db13bb8c38" data-ln="158" data-a="0" data-b="59">  -- unfold g at (f a) and reduce the `dite`/`if` using hex</span></span></div><div class="row"><span class="ln"> 160</span><span class="code"><span class="hit" data-h="8cb216db13bb8c38" data-ln="159" data-a="0" data-b="54">  -- after simp: goal becomes Classical.choose hex = a</span></span></div><div class="row"><span class="ln"> 161</span><span class="code"><span class="hit" data-h="8cb216db13bb8c38" data-ln="160" data-a="0" data-b="45">    have blorp : Classical.choose hex = a := </span><span class="hit" data-h="95af6889654c2c3e" data-ln="160" data-a="45" data-b="47">by</span></span></div><div class="row"><span class="ln"> 162</span><span class="code"><span class="hit" data-h="95af6889654c2c3e" data-ln="161" data-a="0" data-b="7">      a</span><span class="hit" data-h="4c2ed72e2677a520" data-ln="161" data-a="7" data-b="16">pply hinj</span></span></div><div class="row"><span class="ln"> 163</span><span class="code"><span class="hit" data-h="4c2ed72e2677a520" data-ln="162" data-a="0" data-b="47">      -- choose_spec hex : f (choose hex) = f a</span></span></div><div class="row"><span class="ln"> 164</span><span class="code"><span class="hit" data-h="4c2ed72e2677a520" data-ln="163" data-a="0" data-b="18">      simpa using </span><span class="hit" data-h="d7064e63adc3d44c" data-ln="163" data-a="18" data-b="45">(Classical.choose_spec hex)</span></span></div><div class="row"><span class="ln"> 165</span><span class="code"></span></div><div class="row"><span class="ln"> 166</span><span class="code"><span class="hit" data-h="ba69ff8806490158" data-ln="165" data-a="0" data-b="6">    --</span><span class="hit" data-h="d7064e63adc3d44c" data-ln="165" data-a="6" data-b="17"> now finish</span></span></div><div class="row"><span class="ln"> 167</span><span class="code"><span class="hit" data-h="ba69ff8806490158" data-ln="166" data-a="0" data-b="5">    s</span><span class="hit" data-h="d7064e63adc3d44c" data-ln="166" data-a="5" data-b="24">imp [g, hex, blorp]</span></span></div><div class="row"><span class="ln"> 168</span><span class="code"><span class="hit" data-h="4356cb59f3bbbae9" data-ln="167" data-a="0" data-b="3">  .</span></span></div><div class="row"><span class="ln"> 169</span><span class="code"><span class="hit" data-h="4356cb59f3bbbae9" data-ln="168" data-a="0" data-b="84">    -- we know that for all a in A g(f(a)) = a. this is hg. (definition of left inv)</span></span></div><div class="row"><span class="ln"> 170</span><span class="code"><span class="hit" data-h="4356cb59f3bbbae9" data-ln="169" data-a="0" data-b="100">    -- then the hypothesis of injectivity is that we have two elements a1 and a2 with the same image</span></span></div><div class="row"><span class="ln"> 171</span><span class="code"><span class="hit" data-h="4356cb59f3bbbae9" data-ln="170" data-a="0" data-b="91">    -- we assume then f a1 = f a2. to show that f is injective we need to show that a1 = a2</span></span></div><div class="row"><span class="ln"> 172</span><span class="code"><span class="hit" data-h="4356cb59f3bbbae9" data-ln="171" data-a="0" data-b="59">    -- since we also know that (g circ f) (a) = a = g(f(a))</span></span></div><div class="row"><span class="ln"> 173</span><span class="code"><span class="hit" data-h="4356cb59f3bbbae9" data-ln="172" data-a="0" data-b="98">    -- we can apply g to both sides and apply the left inverse identity to get g(f(a1)) = g(f(a2))</span></span></div><div class="row"><span class="ln"> 174</span><span class="code"><span class="hit" data-h="4356cb59f3bbbae9" data-ln="173" data-a="0" data-b="42">    -- then a1 and a2 must have been equal</span></span></div><div class="row"><span class="ln"> 175</span><span class="code"></span></div><div class="row"><span class="ln"> 176</span><span class="code"><span class="hit" data-h="4356cb59f3bbbae9" data-ln="175" data-a="0" data-b="5">    i</span><span class="hit" data-h="5e8c531cd0f0de8b" data-ln="175" data-a="5" data-b="12">ntro hl</span></span></div><div class="row"><span class="ln"> 177</span><span class="code"><span class="hit" data-h="5e8c531cd0f0de8b" data-ln="176" data-a="0" data-b="5">    o</span><span class="hit" data-h="b63034a5fd8eacdf" data-ln="176" data-a="5" data-b="24">btain ⟨g, hg⟩ := hl</span></span></div><div class="row"><span class="ln"> 178</span><span class="code"><span class="hit" data-h="b63034a5fd8eacdf" data-ln="177" data-a="0" data-b="5">    h</span><span class="hit" data-h="7cb37f14b0842cdc" data-ln="177" data-a="5" data-b="18">ave hg_ := hg</span></span></div><div class="row"><span class="ln"> 179</span><span class="code"><span class="hit" data-h="7cb37f14b0842cdc" data-ln="178" data-a="0" data-b="9">    rw [L</span><span class="hit" data-h="ee691aebad17ed2c" data-ln="178" data-a="9" data-b="26">eftInverse] at hg</span></span></div><div class="row"><span class="ln"> 180</span><span class="code"><span class="hit" data-h="ee691aebad17ed2c" data-ln="179" data-a="0" data-b="9">    rw [I</span><span class="hit" data-h="f3a8076d778fa4dd" data-ln="179" data-a="9" data-b="18">njective]</span></span></div><div class="row"><span class="ln"> 181</span><span class="code"><span class="hit" data-h="f3a8076d778fa4dd" data-ln="180" data-a="0" data-b="5">    i</span><span class="hit" data-h="22e4121ab81f957b" data-ln="180" data-a="5" data-b="19">ntros a1 a2 hf</span></span></div><div class="row"><span class="ln"> 182</span><span class="code"><span class="hit" data-h="22e4121ab81f957b" data-ln="181" data-a="0" data-b="32">    have foo : a1 = g (f a1) := </span><span class="hit" data-h="b46f8208ca17809e" data-ln="181" data-a="32" data-b="36">by e</span><span class="hit" data-h="d7064e63adc3d44c" data-ln="181" data-a="36" data-b="53">xact (hg a1).symm</span></span></div><div class="row"><span class="ln"> 183</span><span class="code"><span class="hit" data-h="439acedc0ff24ddd" data-ln="182" data-a="0" data-b="9">    rw [h</span><span class="hit" data-h="4e4a0aa986a6d300" data-ln="182" data-a="9" data-b="18">f] at foo</span></span></div><div class="row"><span class="ln"> 184</span><span class="code"><span class="hit" data-h="4e4a0aa986a6d300" data-ln="183" data-a="0" data-b="9">    rw [h</span><span class="hit" data-h="349c4e938b78daf0" data-ln="183" data-a="9" data-b="18">g] at foo</span></span></div><div class="row"><span class="ln"> 185</span><span class="code"><span class="hit" data-h="349c4e938b78daf0" data-ln="184" data-a="0" data-b="5">    e</span><span class="hit" data-h="d7064e63adc3d44c" data-ln="184" data-a="5" data-b="13">xact foo</span></span></div><div class="row"><span class="ln"> 186</span><span class="code"></span></div><div class="row"><span class="ln"> 187</span><span class="code"><span class="hit" data-h="d7064e63adc3d44c" data-ln="186" data-a="0" data-b="46">-- theorem inj_iff_has_left_inv (f : A -&gt; B) :</span></span></div><div class="row"><span class="ln"> 188</span><span class="code"><span class="hit" data-h="d7064e63adc3d44c" data-ln="187" data-a="0" data-b="60">--   Function.Injective f ↔ ∃ (g : B -&gt; A), g ∘ f = id := by</span></span></div><div class="row"><span class="ln"> 189</span><span class="code"><span class="hit" data-h="d7064e63adc3d44c" data-ln="188" data-a="0" data-b="16">--   constructor</span></span></div><div class="row"><span class="ln"> 190</span><span class="code"><span class="hit" data-h="d7064e63adc3d44c" data-ln="189" data-a="0" data-b="40">--   -- =&gt;) injectivity implies left inv</span></span></div><div class="row"><span class="ln"> 191</span><span class="code"><span class="hit" data-h="d7064e63adc3d44c" data-ln="190" data-a="0" data-b="30">--   · rw [Function.Injective]</span></span></div><div class="row"><span class="ln"> 192</span><span class="code"><span class="hit" data-h="d7064e63adc3d44c" data-ln="191" data-a="0" data-b="17">--     intro finj</span></span></div><div class="row"><span class="ln"> 193</span><span class="code"><span class="hit" data-h="d7064e63adc3d44c" data-ln="192" data-a="0" data-b="50">--     exact Function.Injective.exists_leftInverse</span></span></div><div class="row"><span class="ln"> 194</span><span class="code"></span></div><div class="row"><span class="ln"> 195</span><span class="code">end right_inv_imp_surjective</span></div><div class="row"><span class="ln"> 196</span><span class="code"></span></div><div class="row"><span class="ln"> 197</span><span class="code">/-</span></div><div class="row"><span class="ln"> 198</span><span class="code">theorem demonstrating Classical.choose</span></div><div class="row"><span class="ln"> 199</span><span class="code">-/</span></div><div class="row"><span class="ln"> 200</span><span class="code">theorem hasa_prop (h : ∃ _ : A, True) : Nonempty A := <span class="hit" data-h="4a18d01fce05380e" data-ln="199" data-a="54" data-b="56">by</span></span></div><div class="row"><span class="ln"> 201</span><span class="code"><span class="hit" data-h="4a18d01fce05380e" data-ln="200" data-a="0" data-b="3">  c</span><span class="hit" data-h="d7064e63adc3d44c" data-ln="200" data-a="3" data-b="11">lassical</span></span></div><div class="row"><span class="ln"> 202</span><span class="code"><span class="hit" data-h="d7064e63adc3d44c" data-ln="201" data-a="0" data-b="2">  </span><span class="hit" data-h="4a18d01fce05380e" data-ln="201" data-a="2" data-b="3">h</span><span class="hit" data-h="9c046f2ee91fa5a0" data-ln="201" data-a="3" data-b="36">ave foo : A := Classical.choose h</span></span></div><div class="row"><span class="ln"> 203</span><span class="code"><span class="hit" data-h="9c046f2ee91fa5a0" data-ln="202" data-a="0" data-b="3">  e</span><span class="hit" data-h="d7064e63adc3d44c" data-ln="202" data-a="3" data-b="13">xact ⟨foo⟩</span></span></div><div class="row"><span class="ln"> 204</span><span class="code"></span></div><div class="row"><span class="ln"> 205</span><span class="code"><span class="hit" data-h="d7064e63adc3d44c" data-ln="204" data-a="0" data-b="2">/-</span></span></div><div class="row"><span class="ln"> 206</span><span class="code"><span class="hit" data-h="d7064e63adc3d44c" data-ln="205" data-a="0" data-b="81">example showing how to use a element from nonempty type (via choice, not choose!)</span></span></div><div class="row"><span class="ln"> 207</span><span class="code"><span class="hit" data-h="d7064e63adc3d44c" data-ln="206" data-a="0" data-b="44">not sure whats up exactly with noncomputable</span></span></div><div class="row"><span class="ln"> 208</span><span class="code"><span class="hit" data-h="d7064e63adc3d44c" data-ln="207" data-a="0" data-b="2">-/</span></span></div><div class="row"><span class="ln"> 209</span><span class="code">noncomputable example (hne : Nonempty A) : A := <span class="hit" data-h="2f85c17004ccf947" data-ln="208" data-a="48" data-b="50">by</span></span></div><div class="row"><span class="ln"> 210</span><span class="code"><span class="hit" data-h="2f85c17004ccf947" data-ln="209" data-a="0" data-b="3">  c</span><span class="hit" data-h="d7064e63adc3d44c" data-ln="209" data-a="3" data-b="11">lassical</span></span></div><div class="row"><span class="ln"> 211</span><span class="code"><span class="hit" data-h="d7064e63adc3d44c" data-ln="210" data-a="0" data-b="2">  </span><span class="hit" data-h="2f85c17004ccf947" data-ln="210" data-a="2" data-b="3">e</span><span class="hit" data-h="d7064e63adc3d44c" data-ln="210" data-a="3" data-b="28">xact Classical.choice hne</span></span></div><div class="row"><span class="ln"> 212</span><span class="code"></span></div><div class="row"><span class="ln"> 213</span><span class="code"></span></div><div class="row"><span class="ln"> 214</span><span class="code">#check some 3</span></div><div class="row"><span class="ln"> 215</span><span class="code"></span></div><div class="row"><span class="ln"> 216</span><span class="code"></span></div><div class="row"><span class="ln"> 217</span><span class="code"></span></div><div class="row"><span class="ln"> 218</span><span class="code">/-</span></div><div class="row"><span class="ln"> 219</span><span class="code">following is one way to show that for a left inv g of f that g is surjective</span></div><div class="row"><span class="ln"> 220</span><span class="code">  -- assume for contradiction that there is an a ∈ A st ∄b, g(b) = a (thus g not surj)</span></div><div class="row"><span class="ln"> 221</span><span class="code">  -- then by definition of left inverse g(f(x)) = id_A, so such an a dne</span></div><div class="row"><span class="ln"> 222</span><span class="code"></span></div><div class="row"><span class="ln"> 223</span><span class="code">but it is far easier to take a as any elt of A, then use (f a) as the witness for existential</span></div><div class="row"><span class="ln"> 224</span><span class="code">then the definition of left inv gives a proof that this g (f a) = a.</span></div><div class="row"><span class="ln"> 225</span><span class="code">since a was arbitrary, g is surjective.</span></div><div class="row"><span class="ln"> 226</span><span class="code">-/</span></div><div class="row"><span class="ln"> 227</span><span class="code">theorem g_surj_if_left_inv (f : A -&gt; B) (h : LeftInverse g f) : (Surjective g) := <span class="hit" data-h="052e79d7df0e3f68" data-ln="226" data-a="82" data-b="84">by</span></span></div><div class="row"><span class="ln"> 228</span><span class="code"><span class="hit" data-h="052e79d7df0e3f68" data-ln="227" data-a="0" data-b="64">  -- have finj : Injective f := by exact LeftInverse.injective h</span></span></div><div class="row"><span class="ln"> 229</span><span class="code"><span class="hit" data-h="052e79d7df0e3f68" data-ln="228" data-a="0" data-b="3">  i</span><span class="hit" data-h="903335d5c923e5f6" data-ln="228" data-a="3" data-b="9">ntro a</span></span></div><div class="row"><span class="ln"> 230</span><span class="code"><span class="hit" data-h="903335d5c923e5f6" data-ln="229" data-a="0" data-b="3">  r</span><span class="hit" data-h="d7064e63adc3d44c" data-ln="229" data-a="3" data-b="19">efine ⟨f a, h a⟩</span></span></div><div class="row"><span class="ln"> 231</span><span class="code"></span></div><div class="row"><span class="ln"> 232</span><span class="code"></span></div><div class="row"><span class="ln"> 233</span><span class="code"><span class="hit" data-h="d7064e63adc3d44c" data-ln="232" data-a="0" data-b="105">-- theorem inv_bij_is_bij (f : A -&gt; B) (hl : LeftInverse g f) (hr : RightInverse g f) : Bijective g := by</span></span></div><div class="row"><span class="ln"> 234</span><span class="code"><span class="hit" data-h="d7064e63adc3d44c" data-ln="233" data-a="0" data-b="68">--   have finj : Injective f := by exact (LeftInverse.injective g f)</span></span></div><div class="row"><span class="ln"> 235</span><span class="code"><span class="hit" data-h="d7064e63adc3d44c" data-ln="234" data-a="0" data-b="73">--   have fsurj : Surjective f  := by exact (RightInverse.surjective g f)</span></span></div>
    </div>
  </div>
  <div id="right">
    <div class="meta"><b>Goal state</b></div>
    <div id="where" class="meta">No selection.</div>
    <div id="goal">(click a highlighted segment)</div>
  </div>

<script id="trace-data" type="application/json">{"file": "ProofsWMathlib/Lean/day_2025_12_30.lean", "uri": "file:///home/anand/src/lean/ProofsWMathlib.lean/ProofsWMathlib/Lean/day_2025_12_30.lean", "mode": "dense", "unique_states": {"423430c75cf7dedf": "```lean\na : Sort u_1\nr : Setoid a\nx y z : a\nh : r x y ∧ r y z\n⊢ r x z\n```", "c2f430406fef1909": "```lean\na : Sort u_1\nr : Setoid a\nx y z : a\nhP : r x y\nhQ : r y z\n⊢ r x z\n```", "d7064e63adc3d44c": "no goals", "87d4e0783d863b17": "```lean\na : Sort u_1\nr : Setoid a\n⊢ ∀ (x : a), r x x\n```", "cbf4e95ac8443594": "```lean\na : Type u_1\nr : Setoid a\n⊢ ∅ ∉ r.classes\n```", "642270731809ad84": "```lean\na : Type u_1\nr : Setoid a\n⊢ ∀ (x : a), ¬∅ = {x_1 | r x_1 x}\n```", "4b5aa881f5ad7003": "```lean\na : Type u_1\nr : Setoid a\nx : a\n⊢ ¬∅ = {x_1 | r x_1 x}\n```", "3e70355ceabe5c9b": "```lean\na : Type u_1\nr : Setoid a\nx : a\nh : ∅ = {x_1 | r x_1 x}\n⊢ False\n```", "022870f1153733c1": "```lean\na : Type u_1\nr : Setoid a\nx : a\nh : ∅ = {x_1 | r x_1 x}\n⊢ x ∈ {x_1 | r x_1 x}\n```", "f69cb4a04584cf12": "```lean\na : Type u_1\nr : Setoid a\nx : a\nh : ∅ = {x_1 | r x_1 x}\nhx : x ∈ {x_1 | r x_1 x}\n⊢ False\n```", "21ee90b13dce56e7": "```lean\na : Type u_1\nr : Setoid a\nx : a\nh : ∅ = {x_1 | r x_1 x}\nhx : x ∈ {x_1 | r x_1 x}\n⊢ x ∈ ∅\n```", "2f2d558968373654": "```lean\na : Type u_1\nr : Setoid a\nx : a\nh : ∅ = {x_1 | r x_1 x}\nhx : x ∈ {x_1 | r x_1 x}\n⊢ x ∈ {x_1 | r x_1 x}\n```", "4a381481f316fb85": "```lean\na : Type u_1\nr : Setoid a\nx : a\nh : ∅ = {x_1 | r x_1 x}\nhx : x ∈ {x_1 | r x_1 x}\nhe : x ∈ ∅\n⊢ False\n```", "25fbb79192158283": "```lean\na : Type u_1\nr : Setoid a\n⊢ r.classes.PairwiseDisjoint id\n```", "94c567e874da4434": "```lean\na : Type u_1\nr : Setoid a\nhc : Setoid.IsPartition r.classes\n⊢ r.classes.PairwiseDisjoint id\n```", "5b0f43623bdf5acf": "```lean\na : Type u_1\nr : Setoid a\nhc : ∅ ∉ r.classes ∧ ∀ (a_1 : a), ∃! b, b ∈ r.classes ∧ a_1 ∈ b\n⊢ r.classes.PairwiseDisjoint id\n```", "97174ce8d49c20a8": "```lean\na : Type u_1\nx y : Set a\nz : a\nr : Setoid a\nh1 : x ∈ r.classes\nh2 : y ∈ r.classes\nhz : z ∈ x ∧ z ∈ y\n⊢ x = y\n```", "29b76b55fdf7c473": "```lean\na : Type u_1\nx y : Set a\nz : a\nr : Setoid a\nh1 : x ∈ r.classes\nh2 : y ∈ r.classes\ninx : z ∈ x\niny : z ∈ y\n⊢ x = y\n```", "344fbe88725e1e23": "```lean\na : Type u_1\ny : Set a\nz : a\nr : Setoid a\nh2 : y ∈ r.classes\niny : z ∈ y\na1 : a\nh1 : {x | r x a1} ∈ r.classes\ninx : z ∈ {x | r x a1}\n⊢ {x | r x a1} = y\n```", "a3f77cb519f9e180": "```lean\na : Type u_1\nx y : Set a\nz : a\nr : Setoid a\nh1 : x ∈ r.classes\nh2 : y ∈ r.classes\ninx : z ∈ x\niny : z ∈ y\n⊢ ?m.29\n```", "928beb8e2b40d0b3": "```lean\na : Type u_1\nz : a\nr : Setoid a\na1 : a\nh1 : {x | r x a1} ∈ r.classes\ninx : z ∈ {x | r x a1}\na2 : a\nh2 : {x | r x a2} ∈ r.classes\niny : z ∈ {x | r x a2}\n⊢ {x | r x a1} = {x | r x a2}\n```", "fd13b45f36bc1424": "```lean\na : Type u_1\ny : Set a\nz : a\nr : Setoid a\nh2 : y ∈ r.classes\niny : z ∈ y\na1 : a\nh1 : {x | r x a1} ∈ r.classes\ninx : z ∈ {x | r x a1}\n⊢ ?m.56\n```", "a4fe7596979d7c3f": "```lean\na : Type u_1\nz : a\nr : Setoid a\na1 : a\nh1 : {x | r x a1} ∈ r.classes\ninx : z ∈ {x | r x a1}\na2 : a\nh2 : {x | r x a2} ∈ r.classes\niny : z ∈ {x | r x a2}\n⊢ r z a1\n```", "f671e45f732256d1": "```lean\na : Type u_1\nz : a\nr : Setoid a\na1 : a\nh1 : {x | r x a1} ∈ r.classes\ninx : z ∈ {x | r x a1}\na2 : a\nh2 : {x | r x a2} ∈ r.classes\niny : z ∈ {x | r x a2}\nhzx : r z a1\n⊢ {x | r x a1} = {x | r x a2}\n```", "d87708d72d9e5fcb": "```lean\na : Type u_1\nz : a\nr : Setoid a\na1 : a\nh1 : {x | r x a1} ∈ r.classes\ninx : z ∈ {x | r x a1}\na2 : a\nh2 : {x | r x a2} ∈ r.classes\niny : z ∈ {x | r x a2}\nhzx : r z a1\n⊢ r z a2\n```", "5470057c0649466f": "```lean\na : Type u_1\nz : a\nr : Setoid a\na1 : a\nh1 : {x | r x a1} ∈ r.classes\ninx : z ∈ {x | r x a1}\na2 : a\nh2 : {x | r x a2} ∈ r.classes\niny : z ∈ {x | r x a2}\nhzx : r z a1\nhzy : r z a2\n⊢ {x | r x a1} = {x | r x a2}\n```", "31444a88aed1966a": "```lean\na : Type u_1\nz : a\nr : Setoid a\na1 : a\nh1 : {x | r x a1} ∈ r.classes\ninx : z ∈ {x | r x a1}\na2 : a\nh2 : {x | r x a2} ∈ r.classes\niny : z ∈ {x | r x a2}\nhzx : r z a1\nhzy : r z a2\n⊢ r a1 a2\n```", "29244e5cfd90b1fb": "```lean\na : Type u_1\nz : a\nr : Setoid a\na1 : a\nh1 : {x | r x a1} ∈ r.classes\ninx : z ∈ {x | r x a1}\na2 : a\nh2 : {x | r x a2} ∈ r.classes\niny : z ∈ {x | r x a2}\nhzx : r z a1\nhzy : r z a2\nhxy : r a1 a2\n⊢ {x | r x a1} = {x | r x a2}\n```", "63a8c0b647da790f": "```lean\ncase h\na : Type u_1\nz : a\nr : Setoid a\na1 : a\nh1 : {x | r x a1} ∈ r.classes\ninx : z ∈ {x | r x a1}\na2 : a\nh2 : {x | r x a2} ∈ r.classes\niny : z ∈ {x | r x a2}\nhzx : r z a1\nhzy : r z a2\nhxy : r a1 a2\nxe : a\n⊢ xe ∈ {x | r x a1} ↔ xe ∈ {x | r x a2}\n```", "9b4aa98cb2e090a8": "```lean\ncase h.mp\na : Type u_1\nz : a\nr : Setoid a\na1 : a\nh1 : {x | r x a1} ∈ r.classes\ninx : z ∈ {x | r x a1}\na2 : a\nh2 : {x | r x a2} ∈ r.classes\niny : z ∈ {x | r x a2}\nhzx : r z a1\nhzy : r z a2\nhxy : r a1 a2\nxe : a\n⊢ xe ∈ {x | r x a1} → xe ∈ {x | r x a2}\n```\n---\n```lean\ncase h.mpr\na : Type u_1\nz : a\nr : Setoid a\na1 : a\nh1 : {x | r x a1} ∈ r.classes\ninx : z ∈ {x | r x a1}\na2 : a\nh2 : {x | r x a2} ∈ r.classes\niny : z ∈ {x | r x a2}\nhzx : r z a1\nhzy : r z a2\nhxy : r a1 a2\nxe : a\n⊢ xe ∈ {x | r x a2} → xe ∈ {x | r x a1}\n```", "b466df943c208b12": "```lean\ncase h.mp\na : Type u_1\nz : a\nr : Setoid a\na1 : a\nh1 : {x | r x a1} ∈ r.classes\ninx : z ∈ {x | r x a1}\na2 : a\nh2 : {x | r x a2} ∈ r.classes\niny : z ∈ {x | r x a2}\nhzx : r z a1\nhzy : r z a2\nhxy : r a1 a2\nxe : a\n⊢ xe ∈ {x | r x a1} → xe ∈ {x | r x a2}\n```", "8b3e569aba0c276f": "```lean\ncase h.mp\na : Type u_1\nz : a\nr : Setoid a\na1 : a\nh1 : {x | r x a1} ∈ r.classes\ninx : z ∈ {x | r x a1}\na2 : a\nh2 : {x | r x a2} ∈ r.classes\niny : z ∈ {x | r x a2}\nhzx : r z a1\nhzy : r z a2\nhxy : r a1 a2\nxe : a\nhxe : xe ∈ {x | r x a1}\n⊢ xe ∈ {x | r x a2}\n```", "82ae5d69689d39d4": "```lean\na : Type u_1\nz : a\nr : Setoid a\na1 : a\nh1 : {x | r x a1} ∈ r.classes\ninx : z ∈ {x | r x a1}\na2 : a\nh2 : {x | r x a2} ∈ r.classes\niny : z ∈ {x | r x a2}\nhzx : r z a1\nhzy : r z a2\nhxy : r a1 a2\nxe : a\nhxe : xe ∈ {x | r x a1}\n⊢ r xe a1\n```", "3511cd4a97d1055d": "```lean\ncase h.mp\na : Type u_1\nz : a\nr : Setoid a\na1 : a\nh1 : {x | r x a1} ∈ r.classes\ninx : z ∈ {x | r x a1}\na2 : a\nh2 : {x | r x a2} ∈ r.classes\niny : z ∈ {x | r x a2}\nhzx : r z a1\nhzy : r z a2\nhxy : r a1 a2\nxe : a\nhxe : xe ∈ {x | r x a1}\nhxex : r xe a1\n⊢ xe ∈ {x | r x a2}\n```", "65fa206e2de0d4d8": "```lean\ncase h.mp\na : Type u_1\nz : a\nr : Setoid a\na1 : a\nh1 : {x | r x a1} ∈ r.classes\ninx : z ∈ {x | r x a1}\na2 : a\nh2 : {x | r x a2} ∈ r.classes\niny : z ∈ {x | r x a2}\nhzx : r z a1\nhzy : r z a2\nhxy : r a1 a2\nxe : a\nhxe : xe ∈ {x | r x a1}\nhxex : r xe a1\n⊢ r xe a2\n```", "60615cdbd7203971": "```lean\ncase h.mpr\na : Type u_1\nz : a\nr : Setoid a\na1 : a\nh1 : {x | r x a1} ∈ r.classes\ninx : z ∈ {x | r x a1}\na2 : a\nh2 : {x | r x a2} ∈ r.classes\niny : z ∈ {x | r x a2}\nhzx : r z a1\nhzy : r z a2\nhxy : r a1 a2\nxe : a\n⊢ xe ∈ {x | r x a2} → xe ∈ {x | r x a1}\n```", "aee9bcc27c1ac6b6": "```lean\ncase h.mpr\na : Type u_1\nz : a\nr : Setoid a\na1 : a\nh1 : {x | r x a1} ∈ r.classes\ninx : z ∈ {x | r x a1}\na2 : a\nh2 : {x | r x a2} ∈ r.classes\niny : z ∈ {x | r x a2}\nhzx : r z a1\nhzy : r z a2\nhxy : r a1 a2\nxe : a\nhxe : xe ∈ {x | r x a2}\n⊢ xe ∈ {x | r x a1}\n```", "a49d7ce3bfef46c4": "```lean\na : Type u_1\nz : a\nr : Setoid a\na1 : a\nh1 : {x | r x a1} ∈ r.classes\ninx : z ∈ {x | r x a1}\na2 : a\nh2 : {x | r x a2} ∈ r.classes\niny : z ∈ {x | r x a2}\nhzx : r z a1\nhzy : r z a2\nhxy : r a1 a2\nxe : a\nhxe : xe ∈ {x | r x a2}\n⊢ r xe a2\n```", "6aefb68b545a776c": "```lean\ncase h.mpr\na : Type u_1\nz : a\nr : Setoid a\na1 : a\nh1 : {x | r x a1} ∈ r.classes\ninx : z ∈ {x | r x a1}\na2 : a\nh2 : {x | r x a2} ∈ r.classes\niny : z ∈ {x | r x a2}\nhzx : r z a1\nhzy : r z a2\nhxy : r a1 a2\nxe : a\nhxe : xe ∈ {x | r x a2}\nhxex : r xe a2\n⊢ xe ∈ {x | r x a1}\n```", "66d385643517d439": "```lean\ncase h.mpr\na : Type u_1\nz : a\nr : Setoid a\na1 : a\nh1 : {x | r x a1} ∈ r.classes\ninx : z ∈ {x | r x a1}\na2 : a\nh2 : {x | r x a2} ∈ r.classes\niny : z ∈ {x | r x a2}\nhzx : r z a1\nhzy : r z a2\nhxy : r a1 a2\nxe : a\nhxe : xe ∈ {x | r x a2}\nhxex : r xe a2\n⊢ r xe a1\n```", "daf25fdf9ee576c7": "```lean\na : Type u_1\nr : Setoid a\n⊢ ∀ (x : a), ∃ b ∈ r.classes, x ∈ b\n```", "2c6abf50d0c45114": "```lean\na : Type u_1\nr : Setoid a\nx : a\n⊢ ∃ b ∈ r.classes, x ∈ b\n```", "ff6915a7d0f489b6": "```lean\ncase h\na : Type u_1\nr : Setoid a\nx : a\n⊢ {z | r z x} ∈ r.classes ∧ x ∈ {z | r z x}\n```", "68b30d590be23b19": "```lean\ncase h.left\na : Type u_1\nr : Setoid a\nx : a\n⊢ {z | r z x} ∈ r.classes\n```\n---\n```lean\ncase h.right\na : Type u_1\nr : Setoid a\nx : a\n⊢ x ∈ {z | r z x}\n```", "2d48a259c9480e9d": "```lean\ncase h.left\na : Type u_1\nr : Setoid a\nx : a\n⊢ {z | r z x} ∈ r.classes\n```", "fecaafc217415352": "```lean\ncase h.left\na : Type u_1\nr : Setoid a\nx : a\n⊢ {z | r z x} ∈ {s | ∃ y, s = {x | r x y}}\n```", "627ede267eb3c56f": "```lean\ncase h.right\na : Type u_1\nr : Setoid a\nx : a\n⊢ x ∈ {z | r z x}\n```", "64c0ba5db5793169": "```lean\na : Type u_1\nr : Setoid a\n⊢ ∀ (x : a), ∃! b, b ∈ r.classes ∧ x ∈ b\n```", "a9cee73c5ef487ac": "```lean\na : Type u_1\nr : Setoid a\nx : a\n⊢ ∃! b, b ∈ r.classes ∧ x ∈ b\n```", "93f05608bef39e28": "```lean\na : Type u_1\nr : Setoid a\nx : a\nb : Set a\nhb_classes : b ∈ r.classes\nhxb : x ∈ b\n⊢ ∃! b, b ∈ r.classes ∧ x ∈ b\n```", "2675629fd00dcdee": "```lean\ncase refine_1\na : Type u_1\nr : Setoid a\nx : a\nb : Set a\nhb_classes : b ∈ r.classes\nhxb : x ∈ b\n⊢ (fun b ↦ b ∈ r.classes ∧ x ∈ b) b\n```\n---\n```lean\ncase refine_2\na : Type u_1\nr : Setoid a\nx : a\nb : Set a\nhb_classes : b ∈ r.classes\nhxb : x ∈ b\n⊢ ∀ (y : Set a), (fun b ↦ b ∈ r.classes ∧ x ∈ b) y → y = b\n```", "4729fbf52c4491b6": "```lean\ncase refine_1\na : Type u_1\nr : Setoid a\nx : a\nb : Set a\nhb_classes : b ∈ r.classes\nhxb : x ∈ b\n⊢ (fun b ↦ b ∈ r.classes ∧ x ∈ b) b\n```", "62662f84a4e8861e": "```lean\ncase refine_1\na : Type u_1\nr : Setoid a\nx : a\nb : Set a\nhb_classes : b ∈ r.classes\nhxb : x ∈ b\n⊢ b ∈ r.classes ∧ x ∈ b\n```", "1b9ca7745b4348e4": "```lean\ncase refine_2\na : Type u_1\nr : Setoid a\nx : a\nb : Set a\nhb_classes : b ∈ r.classes\nhxb : x ∈ b\n⊢ ∀ (y : Set a), (fun b ↦ b ∈ r.classes ∧ x ∈ b) y → y = b\n```", "79c94c1463a23e6c": "```lean\ncase refine_2\na : Type u_1\nr : Setoid a\nx : a\nb : Set a\nhb_classes : b ∈ r.classes\nhxb : x ∈ b\ny : Set a\n⊢ (fun b ↦ b ∈ r.classes ∧ x ∈ b) y → y = b\n```", "01f963752f304d2c": "```lean\ncase refine_2\na : Type u_1\nr : Setoid a\nx : a\nb : Set a\nhb_classes : b ∈ r.classes\nhxb : x ∈ b\ny : Set a\n⊢ y ∈ r.classes → x ∈ y → y = b\n```", "330eb996f77396d8": "```lean\ncase refine_2\na : Type u_1\nr : Setoid a\nx : a\nb : Set a\nhb_classes : b ∈ r.classes\nhxb : x ∈ b\ny : Set a\nhy : y ∈ r.classes\n⊢ x ∈ y → y = b\n```", "e220392fafd741c1": "```lean\ncase refine_2\na : Type u_1\nr : Setoid a\nx : a\nb : Set a\nhb_classes : b ∈ r.classes\nhxb : x ∈ b\ny : Set a\nhy : y ∈ r.classes\nhxe : x ∈ y\n⊢ y = b\n```", "56b12f4fe15bc13f": "```lean\na : Type u_1\nr : Setoid a\n⊢ Setoid.IsPartition r.classes\n```", "038712701bd5febf": "```lean\na : Type u_1\nr : Setoid a\n⊢ ∅ ∉ r.classes ∧ ∀ (a_1 : a), ∃! b, b ∈ r.classes ∧ a_1 ∈ b\n```", "db058e9dff2ffb6b": "```lean\ncase left\na : Type u_1\nr : Setoid a\n⊢ ∅ ∉ r.classes\n```\n---\n```lean\ncase right\na : Type u_1\nr : Setoid a\n⊢ ∀ (a_1 : a), ∃! b, b ∈ r.classes ∧ a_1 ∈ b\n```", "7a86b5f635442f3f": "```lean\ncase left\na : Type u_1\nr : Setoid a\n⊢ ∅ ∉ r.classes\n```", "10dd01a77fb6a9e9": "```lean\ncase right\na : Type u_1\nr : Setoid a\n⊢ ∀ (a_1 : a), ∃! b, b ∈ r.classes ∧ a_1 ∈ b\n```", "9221c75d86f21322": "```lean\nA : Sort u_1\nB : Sort u_2\nf : A → B\ninst✝ : Nonempty A\n⊢ Injective f ↔ HasLeftInverse f\n```", "39be14f0647176f8": "```lean\ncase mp\nA : Sort u_1\nB : Sort u_2\nf : A → B\ninst✝ : Nonempty A\n⊢ Injective f → HasLeftInverse f\n```\n---\n```lean\ncase mpr\nA : Sort u_1\nB : Sort u_2\nf : A → B\ninst✝ : Nonempty A\n⊢ HasLeftInverse f → Injective f\n```", "d903e74ffa13cd9c": "```lean\ncase mp\nA : Sort u_1\nB : Sort u_2\nf : A → B\ninst✝ : Nonempty A\n⊢ Injective f → HasLeftInverse f\n```", "2a9016a1fb414b04": "```lean\ncase mpr\nA : Sort u_1\nB : Sort u_2\nf : A → B\ninst✝ : Nonempty A\n⊢ HasLeftInverse f → Injective f\n```", "fdab68441ed3e727": "```lean\nA : Sort u_1\nB : Sort u_2\nf : A → B\nhne : Nonempty A\n⊢ Injective f ↔ HasLeftInverse f\n```", "e4e383677dc60a3d": "```lean\ncase mp\nA : Sort u_1\nB : Sort u_2\nf : A → B\nhne : Nonempty A\n⊢ Injective f → HasLeftInverse f\n```\n---\n```lean\ncase mpr\nA : Sort u_1\nB : Sort u_2\nf : A → B\nhne : Nonempty A\n⊢ HasLeftInverse f → Injective f\n```", "1b6195e8d1f45843": "```lean\ncase mp\nA : Sort u_1\nB : Sort u_2\nf : A → B\nhne : Nonempty A\n⊢ Injective f → HasLeftInverse f\n```", "75b19c49be27bda4": "```lean\ncase mp\nA : Sort u_1\nB : Sort u_2\nf : A → B\nhne : Nonempty A\nhinj : Injective f\n⊢ HasLeftInverse f\n```", "b66b1040886e289a": "```lean\ncase mp\nA : Sort u_1\nB : Sort u_2\nf : A → B\nhne : Nonempty A\nhinj : Injective f\ng : B → A := fun b ↦ if h : ∃ a, f a = b then Classical.choose h else Classical.choice hne\n⊢ HasLeftInverse f\n```", "0c387e37b7a9d2d0": "```lean\ncase mp\nA : Sort u_1\nB : Sort u_2\nf : A → B\nhne : Nonempty A\nhinj : Injective f\ng : B → A := fun b ↦ if h : ∃ a, f a = b then Classical.choose h else Classical.choice hne\n⊢ LeftInverse g f\n```", "7183bc63afdab730": "```lean\ncase mp\nA : Sort u_1\nB : Sort u_2\nf : A → B\nhne : Nonempty A\nhinj : Injective f\ng : B → A := fun b ↦ if h : ∃ a, f a = b then Classical.choose h else Classical.choice hne\na : A\n⊢ g (f a) = a\n```", "8cb216db13bb8c38": "```lean\ncase mp\nA : Sort u_1\nB : Sort u_2\nf : A → B\nhne : Nonempty A\nhinj : Injective f\ng : B → A := fun b ↦ if h : ∃ a, f a = b then Classical.choose h else Classical.choice hne\na : A\nhex : ∃ a', f a' = f a\n⊢ g (f a) = a\n```", "95af6889654c2c3e": "```lean\nA : Sort u_1\nB : Sort u_2\nf : A → B\nhne : Nonempty A\nhinj : Injective f\ng : B → A := fun b ↦ if h : ∃ a, f a = b then Classical.choose h else Classical.choice hne\na : A\nhex : ∃ a', f a' = f a\n⊢ Classical.choose hex = a\n```", "4c2ed72e2677a520": "```lean\ncase a\nA : Sort u_1\nB : Sort u_2\nf : A → B\nhne : Nonempty A\nhinj : Injective f\ng : B → A := ⋯\na : A\nhex : ∃ a', f a' = f a\n⊢ f (Classical.choose hex) = f a\n```", "ba69ff8806490158": "```lean\ncase mp\nA : Sort u_1\nB : Sort u_2\nf : A → B\nhne : Nonempty A\nhinj : Injective f\ng : B → A := fun b ↦ if h : ∃ a, f a = b then Classical.choose h else Classical.choice hne\na : A\nhex : ∃ a', f a' = f a\nblorp : Classical.choose hex = a\n⊢ g (f a) = a\n```", "4356cb59f3bbbae9": "```lean\ncase mpr\nA : Sort u_1\nB : Sort u_2\nf : A → B\nhne : Nonempty A\n⊢ HasLeftInverse f → Injective f\n```", "5e8c531cd0f0de8b": "```lean\ncase mpr\nA : Sort u_1\nB : Sort u_2\nf : A → B\nhne : Nonempty A\nhl : HasLeftInverse f\n⊢ Injective f\n```", "b63034a5fd8eacdf": "```lean\ncase mpr\nA : Sort u_1\nB : Sort u_2\nf : A → B\nhne : Nonempty A\ng : B → A\nhg : LeftInverse g f\n⊢ Injective f\n```", "7cb37f14b0842cdc": "```lean\ncase mpr\nA : Sort u_1\nB : Sort u_2\nf : A → B\nhne : Nonempty A\ng : B → A\nhg hg_ : LeftInverse g f\n⊢ Injective f\n```", "ee691aebad17ed2c": "```lean\ncase mpr\nA : Sort u_1\nB : Sort u_2\nf : A → B\nhne : Nonempty A\ng : B → A\nhg : ∀ (x : A), g (f x) = x\nhg_ : LeftInverse g f\n⊢ Injective f\n```", "f3a8076d778fa4dd": "```lean\ncase mpr\nA : Sort u_1\nB : Sort u_2\nf : A → B\nhne : Nonempty A\ng : B → A\nhg : ∀ (x : A), g (f x) = x\nhg_ : LeftInverse g f\n⊢ ∀ ⦃a₁ a₂ : A⦄, f a₁ = f a₂ → a₁ = a₂\n```", "22e4121ab81f957b": "```lean\ncase mpr\nA : Sort u_1\nB : Sort u_2\nf : A → B\nhne : Nonempty A\ng : B → A\nhg : ∀ (x : A), g (f x) = x\nhg_ : LeftInverse g f\na1 a2 : A\nhf : f a1 = f a2\n⊢ a1 = a2\n```", "b46f8208ca17809e": "```lean\nA : Sort u_1\nB : Sort u_2\nf : A → B\nhne : Nonempty A\ng : B → A\nhg : ∀ (x : A), g (f x) = x\nhg_ : LeftInverse g f\na1 a2 : A\nhf : f a1 = f a2\n⊢ a1 = g (f a1)\n```", "439acedc0ff24ddd": "```lean\ncase mpr\nA : Sort u_1\nB : Sort u_2\nf : A → B\nhne : Nonempty A\ng : B → A\nhg : ∀ (x : A), g (f x) = x\nhg_ : LeftInverse g f\na1 a2 : A\nhf : f a1 = f a2\nfoo : a1 = g (f a1)\n⊢ a1 = a2\n```", "4e4a0aa986a6d300": "```lean\ncase mpr\nA : Sort u_1\nB : Sort u_2\nf : A → B\nhne : Nonempty A\ng : B → A\nhg : ∀ (x : A), g (f x) = x\nhg_ : LeftInverse g f\na1 a2 : A\nhf : f a1 = f a2\nfoo : a1 = g (f a2)\n⊢ a1 = a2\n```", "349c4e938b78daf0": "```lean\ncase mpr\nA : Sort u_1\nB : Sort u_2\nf : A → B\nhne : Nonempty A\ng : B → A\nhg : ∀ (x : A), g (f x) = x\nhg_ : LeftInverse g f\na1 a2 : A\nhf : f a1 = f a2\nfoo : a1 = a2\n⊢ a1 = a2\n```", "4a18d01fce05380e": "```lean\nA : Sort u_1\nh : ∃ x, True\n⊢ Nonempty A\n```", "9c046f2ee91fa5a0": "```lean\nA : Sort u_1\nh : ∃ x, True\nfoo : A\n⊢ Nonempty A\n```", "2f85c17004ccf947": "```lean\nA : Sort ?u.1236\nhne : Nonempty A\n⊢ A\n```", "052e79d7df0e3f68": "```lean\nA : Sort u_1\nB : Sort u_2\ng : B → A\nf : A → B\nh : LeftInverse g f\n⊢ Surjective g\n```", "903335d5c923e5f6": "```lean\nA : Sort u_1\nB : Sort u_2\ng : B → A\nf : A → B\nh : LeftInverse g f\na : A\n⊢ ∃ a_1, g a_1 = a\n```"}, "occurrences": [{"hash": "423430c75cf7dedf", "line": 12, "col_start": 85, "col_end": 87, "sample_pos": {"line": 12, "character": 85}}, {"hash": "423430c75cf7dedf", "line": 13, "col_start": 0, "col_end": 3, "sample_pos": {"line": 13, "character": 0}}, {"hash": "c2f430406fef1909", "line": 13, "col_start": 3, "col_end": 24, "sample_pos": {"line": 13, "character": 3}}, {"hash": "c2f430406fef1909", "line": 14, "col_start": 0, "col_end": 3, "sample_pos": {"line": 14, "character": 0}}, {"hash": "d7064e63adc3d44c", "line": 14, "col_start": 3, "col_end": 21, "sample_pos": {"line": 14, "character": 3}}, {"hash": "87d4e0783d863b17", "line": 16, "col_start": 57, "col_end": 59, "sample_pos": {"line": 16, "character": 57}}, {"hash": "87d4e0783d863b17", "line": 17, "col_start": 0, "col_end": 5, "sample_pos": {"line": 17, "character": 0}}, {"hash": "d7064e63adc3d44c", "line": 17, "col_start": 5, "col_end": 16, "sample_pos": {"line": 17, "character": 5}}, {"hash": "cbf4e95ac8443594", "line": 19, "col_start": 59, "col_end": 61, "sample_pos": {"line": 19, "character": 59}}, {"hash": "cbf4e95ac8443594", "line": 20, "col_start": 0, "col_end": 3, "sample_pos": {"line": 20, "character": 0}}, {"hash": "642270731809ad84", "line": 20, "col_start": 3, "col_end": 23, "sample_pos": {"line": 20, "character": 3}}, {"hash": "642270731809ad84", "line": 21, "col_start": 0, "col_end": 3, "sample_pos": {"line": 21, "character": 0}}, {"hash": "4b5aa881f5ad7003", "line": 21, "col_start": 3, "col_end": 11, "sample_pos": {"line": 21, "character": 3}}, {"hash": "3e70355ceabe5c9b", "line": 22, "col_start": 0, "col_end": 12, "sample_pos": {"line": 22, "character": 0}}, {"hash": "3e70355ceabe5c9b", "line": 23, "col_start": 0, "col_end": 35, "sample_pos": {"line": 23, "character": 0}}, {"hash": "022870f1153733c1", "line": 23, "col_start": 35, "col_end": 37, "sample_pos": {"line": 23, "character": 35}}, {"hash": "022870f1153733c1", "line": 24, "col_start": 0, "col_end": 5, "sample_pos": {"line": 24, "character": 0}}, {"hash": "d7064e63adc3d44c", "line": 24, "col_start": 5, "col_end": 18, "sample_pos": {"line": 24, "character": 5}}, {"hash": "f69cb4a04584cf12", "line": 25, "col_start": 0, "col_end": 31, "sample_pos": {"line": 25, "character": 0}}, {"hash": "21ee90b13dce56e7", "line": 25, "col_start": 31, "col_end": 33, "sample_pos": {"line": 25, "character": 31}}, {"hash": "21ee90b13dce56e7", "line": 26, "col_start": 0, "col_end": 21, "sample_pos": {"line": 26, "character": 0}}, {"hash": "21ee90b13dce56e7", "line": 27, "col_start": 0, "col_end": 9, "sample_pos": {"line": 27, "character": 0}}, {"hash": "2f2d558968373654", "line": 27, "col_start": 9, "col_end": 10, "sample_pos": {"line": 27, "character": 9}}, {"hash": "2f2d558968373654", "line": 28, "col_start": 0, "col_end": 5, "sample_pos": {"line": 28, "character": 0}}, {"hash": "d7064e63adc3d44c", "line": 28, "col_start": 5, "col_end": 12, "sample_pos": {"line": 28, "character": 5}}, {"hash": "4a381481f316fb85", "line": 29, "col_start": 0, "col_end": 3, "sample_pos": {"line": 29, "character": 0}}, {"hash": "d7064e63adc3d44c", "line": 29, "col_start": 3, "col_end": 10, "sample_pos": {"line": 29, "character": 3}}, {"hash": "d7064e63adc3d44c", "line": 31, "col_start": 0, "col_end": 2, "sample_pos": {"line": 31, "character": 0}}, {"hash": "d7064e63adc3d44c", "line": 32, "col_start": 0, "col_end": 63, "sample_pos": {"line": 32, "character": 0}}, {"hash": "d7064e63adc3d44c", "line": 33, "col_start": 0, "col_end": 2, "sample_pos": {"line": 33, "character": 0}}, {"hash": "25fbb79192158283", "line": 34, "col_start": 80, "col_end": 82, "sample_pos": {"line": 34, "character": 80}}, {"hash": "25fbb79192158283", "line": 35, "col_start": 0, "col_end": 56, "sample_pos": {"line": 35, "character": 0}}, {"hash": "25fbb79192158283", "line": 36, "col_start": 0, "col_end": 40, "sample_pos": {"line": 36, "character": 0}}, {"hash": "25fbb79192158283", "line": 37, "col_start": 0, "col_end": 91, "sample_pos": {"line": 37, "character": 0}}, {"hash": "25fbb79192158283", "line": 38, "col_start": 0, "col_end": 3, "sample_pos": {"line": 38, "character": 0}}, {"hash": "94c567e874da4434", "line": 38, "col_start": 3, "col_end": 72, "sample_pos": {"line": 38, "character": 3}}, {"hash": "94c567e874da4434", "line": 39, "col_start": 0, "col_end": 3, "sample_pos": {"line": 39, "character": 0}}, {"hash": "5b0f43623bdf5acf", "line": 39, "col_start": 3, "col_end": 33, "sample_pos": {"line": 39, "character": 3}}, {"hash": "5b0f43623bdf5acf", "line": 40, "col_start": 0, "col_end": 3, "sample_pos": {"line": 40, "character": 0}}, {"hash": "d7064e63adc3d44c", "line": 40, "col_start": 3, "col_end": 7, "sample_pos": {"line": 40, "character": 3}}, {"hash": "d7064e63adc3d44c", "line": 41, "col_start": 0, "col_end": 2, "sample_pos": {"line": 41, "character": 0}}, {"hash": "d7064e63adc3d44c", "line": 43, "col_start": 0, "col_end": 88, "sample_pos": {"line": 43, "character": 0}}, {"hash": "d7064e63adc3d44c", "line": 45, "col_start": 0, "col_end": 49, "sample_pos": {"line": 45, "character": 0}}, {"hash": "d7064e63adc3d44c", "line": 47, "col_start": 0, "col_end": 93, "sample_pos": {"line": 47, "character": 0}}, {"hash": "d7064e63adc3d44c", "line": 49, "col_start": 0, "col_end": 14, "sample_pos": {"line": 49, "character": 0}}, {"hash": "d7064e63adc3d44c", "line": 51, "col_start": 0, "col_end": 2, "sample_pos": {"line": 51, "character": 0}}, {"hash": "97174ce8d49c20a8", "line": 53, "col_start": 40, "col_end": 42, "sample_pos": {"line": 53, "character": 40}}, {"hash": "97174ce8d49c20a8", "line": 54, "col_start": 0, "col_end": 3, "sample_pos": {"line": 54, "character": 0}}, {"hash": "29b76b55fdf7c473", "line": 54, "col_start": 3, "col_end": 27, "sample_pos": {"line": 54, "character": 3}}, {"hash": "29b76b55fdf7c473", "line": 56, "col_start": 0, "col_end": 3, "sample_pos": {"line": 56, "character": 0}}, {"hash": "344fbe88725e1e23", "line": 56, "col_start": 3, "col_end": 10, "sample_pos": {"line": 56, "character": 3}}, {"hash": "a3f77cb519f9e180", "line": 56, "col_start": 10, "col_end": 42, "sample_pos": {"line": 56, "character": 10}}, {"hash": "d7064e63adc3d44c", "line": 56, "col_start": 42, "col_end": 45, "sample_pos": {"line": 56, "character": 42}}, {"hash": "344fbe88725e1e23", "line": 56, "col_start": 45, "col_end": 60, "sample_pos": {"line": 56, "character": 45}}, {"hash": "344fbe88725e1e23", "line": 57, "col_start": 0, "col_end": 3, "sample_pos": {"line": 57, "character": 0}}, {"hash": "928beb8e2b40d0b3", "line": 57, "col_start": 3, "col_end": 10, "sample_pos": {"line": 57, "character": 3}}, {"hash": "fd13b45f36bc1424", "line": 57, "col_start": 10, "col_end": 42, "sample_pos": {"line": 57, "character": 10}}, {"hash": "d7064e63adc3d44c", "line": 57, "col_start": 42, "col_end": 45, "sample_pos": {"line": 57, "character": 42}}, {"hash": "928beb8e2b40d0b3", "line": 57, "col_start": 45, "col_end": 60, "sample_pos": {"line": 57, "character": 45}}, {"hash": "928beb8e2b40d0b3", "line": 59, "col_start": 0, "col_end": 23, "sample_pos": {"line": 59, "character": 0}}, {"hash": "a4fe7596979d7c3f", "line": 59, "col_start": 23, "col_end": 27, "sample_pos": {"line": 59, "character": 23}}, {"hash": "d7064e63adc3d44c", "line": 59, "col_start": 27, "col_end": 35, "sample_pos": {"line": 59, "character": 27}}, {"hash": "f671e45f732256d1", "line": 60, "col_start": 0, "col_end": 23, "sample_pos": {"line": 60, "character": 0}}, {"hash": "d87708d72d9e5fcb", "line": 60, "col_start": 23, "col_end": 27, "sample_pos": {"line": 60, "character": 23}}, {"hash": "d7064e63adc3d44c", "line": 60, "col_start": 27, "col_end": 35, "sample_pos": {"line": 60, "character": 27}}, {"hash": "5470057c0649466f", "line": 61, "col_start": 0, "col_end": 24, "sample_pos": {"line": 61, "character": 0}}, {"hash": "31444a88aed1966a", "line": 61, "col_start": 24, "col_end": 28, "sample_pos": {"line": 61, "character": 24}}, {"hash": "d7064e63adc3d44c", "line": 61, "col_start": 28, "col_end": 57, "sample_pos": {"line": 61, "character": 28}}, {"hash": "29244e5cfd90b1fb", "line": 63, "col_start": 0, "col_end": 3, "sample_pos": {"line": 63, "character": 0}}, {"hash": "63a8c0b647da790f", "line": 63, "col_start": 3, "col_end": 8, "sample_pos": {"line": 63, "character": 3}}, {"hash": "63a8c0b647da790f", "line": 64, "col_start": 0, "col_end": 3, "sample_pos": {"line": 64, "character": 0}}, {"hash": "9b4aa98cb2e090a8", "line": 64, "col_start": 3, "col_end": 13, "sample_pos": {"line": 64, "character": 3}}, {"hash": "9b4aa98cb2e090a8", "line": 66, "col_start": 0, "col_end": 3, "sample_pos": {"line": 66, "character": 0}}, {"hash": "b466df943c208b12", "line": 66, "col_start": 3, "col_end": 5, "sample_pos": {"line": 66, "character": 3}}, {"hash": "8b3e569aba0c276f", "line": 66, "col_start": 5, "col_end": 13, "sample_pos": {"line": 66, "character": 5}}, {"hash": "8b3e569aba0c276f", "line": 67, "col_start": 0, "col_end": 27, "sample_pos": {"line": 67, "character": 0}}, {"hash": "82ae5d69689d39d4", "line": 67, "col_start": 27, "col_end": 42, "sample_pos": {"line": 67, "character": 27}}, {"hash": "d7064e63adc3d44c", "line": 67, "col_start": 42, "col_end": 45, "sample_pos": {"line": 67, "character": 42}}, {"hash": "3511cd4a97d1055d", "line": 68, "col_start": 0, "col_end": 5, "sample_pos": {"line": 68, "character": 0}}, {"hash": "65fa206e2de0d4d8", "line": 68, "col_start": 5, "col_end": 18, "sample_pos": {"line": 68, "character": 5}}, {"hash": "65fa206e2de0d4d8", "line": 69, "col_start": 0, "col_end": 5, "sample_pos": {"line": 69, "character": 0}}, {"hash": "d7064e63adc3d44c", "line": 69, "col_start": 5, "col_end": 26, "sample_pos": {"line": 69, "character": 5}}, {"hash": "60615cdbd7203971", "line": 71, "col_start": 0, "col_end": 5, "sample_pos": {"line": 71, "character": 0}}, {"hash": "aee9bcc27c1ac6b6", "line": 71, "col_start": 5, "col_end": 13, "sample_pos": {"line": 71, "character": 5}}, {"hash": "aee9bcc27c1ac6b6", "line": 72, "col_start": 0, "col_end": 27, "sample_pos": {"line": 72, "character": 0}}, {"hash": "a49d7ce3bfef46c4", "line": 72, "col_start": 27, "col_end": 42, "sample_pos": {"line": 72, "character": 27}}, {"hash": "d7064e63adc3d44c", "line": 72, "col_start": 42, "col_end": 45, "sample_pos": {"line": 72, "character": 42}}, {"hash": "6aefb68b545a776c", "line": 73, "col_start": 0, "col_end": 5, "sample_pos": {"line": 73, "character": 0}}, {"hash": "66d385643517d439", "line": 73, "col_start": 5, "col_end": 18, "sample_pos": {"line": 73, "character": 5}}, {"hash": "66d385643517d439", "line": 74, "col_start": 0, "col_end": 5, "sample_pos": {"line": 74, "character": 0}}, {"hash": "d7064e63adc3d44c", "line": 74, "col_start": 5, "col_end": 35, "sample_pos": {"line": 74, "character": 5}}, {"hash": "daf25fdf9ee576c7", "line": 77, "col_start": 74, "col_end": 76, "sample_pos": {"line": 77, "character": 74}}, {"hash": "daf25fdf9ee576c7", "line": 78, "col_start": 0, "col_end": 3, "sample_pos": {"line": 78, "character": 0}}, {"hash": "2c6abf50d0c45114", "line": 78, "col_start": 3, "col_end": 9, "sample_pos": {"line": 78, "character": 3}}, {"hash": "2c6abf50d0c45114", "line": 79, "col_start": 0, "col_end": 26, "sample_pos": {"line": 79, "character": 0}}, {"hash": "2c6abf50d0c45114", "line": 80, "col_start": 0, "col_end": 63, "sample_pos": {"line": 80, "character": 0}}, {"hash": "2c6abf50d0c45114", "line": 81, "col_start": 0, "col_end": 3, "sample_pos": {"line": 81, "character": 0}}, {"hash": "ff6915a7d0f489b6", "line": 81, "col_start": 3, "col_end": 17, "sample_pos": {"line": 81, "character": 3}}, {"hash": "ff6915a7d0f489b6", "line": 82, "col_start": 0, "col_end": 3, "sample_pos": {"line": 82, "character": 0}}, {"hash": "68b30d590be23b19", "line": 82, "col_start": 3, "col_end": 13, "sample_pos": {"line": 82, "character": 3}}, {"hash": "68b30d590be23b19", "line": 83, "col_start": 0, "col_end": 3, "sample_pos": {"line": 83, "character": 0}}, {"hash": "2d48a259c9480e9d", "line": 83, "col_start": 3, "col_end": 9, "sample_pos": {"line": 83, "character": 3}}, {"hash": "fecaafc217415352", "line": 83, "col_start": 9, "col_end": 23, "sample_pos": {"line": 83, "character": 9}}, {"hash": "fecaafc217415352", "line": 84, "col_start": 0, "col_end": 5, "sample_pos": {"line": 84, "character": 0}}, {"hash": "d7064e63adc3d44c", "line": 84, "col_start": 5, "col_end": 9, "sample_pos": {"line": 84, "character": 5}}, {"hash": "627ede267eb3c56f", "line": 85, "col_start": 0, "col_end": 5, "sample_pos": {"line": 85, "character": 0}}, {"hash": "d7064e63adc3d44c", "line": 85, "col_start": 5, "col_end": 18, "sample_pos": {"line": 85, "character": 5}}, {"hash": "64c0ba5db5793169", "line": 87, "col_start": 77, "col_end": 79, "sample_pos": {"line": 87, "character": 77}}, {"hash": "64c0ba5db5793169", "line": 88, "col_start": 0, "col_end": 3, "sample_pos": {"line": 88, "character": 0}}, {"hash": "a9cee73c5ef487ac", "line": 88, "col_start": 3, "col_end": 9, "sample_pos": {"line": 88, "character": 3}}, {"hash": "a9cee73c5ef487ac", "line": 89, "col_start": 0, "col_end": 3, "sample_pos": {"line": 89, "character": 0}}, {"hash": "93f05608bef39e28", "line": 89, "col_start": 3, "col_end": 51, "sample_pos": {"line": 89, "character": 3}}, {"hash": "93f05608bef39e28", "line": 90, "col_start": 0, "col_end": 3, "sample_pos": {"line": 90, "character": 0}}, {"hash": "2675629fd00dcdee", "line": 90, "col_start": 3, "col_end": 20, "sample_pos": {"line": 90, "character": 3}}, {"hash": "2675629fd00dcdee", "line": 91, "col_start": 0, "col_end": 3, "sample_pos": {"line": 91, "character": 0}}, {"hash": "4729fbf52c4491b6", "line": 91, "col_start": 3, "col_end": 5, "sample_pos": {"line": 91, "character": 3}}, {"hash": "62662f84a4e8861e", "line": 91, "col_start": 5, "col_end": 32, "sample_pos": {"line": 91, "character": 5}}, {"hash": "62662f84a4e8861e", "line": 92, "col_start": 0, "col_end": 5, "sample_pos": {"line": 92, "character": 0}}, {"hash": "d7064e63adc3d44c", "line": 92, "col_start": 5, "col_end": 27, "sample_pos": {"line": 92, "character": 5}}, {"hash": "1b9ca7745b4348e4", "line": 93, "col_start": 0, "col_end": 5, "sample_pos": {"line": 93, "character": 0}}, {"hash": "79c94c1463a23e6c", "line": 93, "col_start": 5, "col_end": 11, "sample_pos": {"line": 93, "character": 5}}, {"hash": "79c94c1463a23e6c", "line": 94, "col_start": 0, "col_end": 5, "sample_pos": {"line": 94, "character": 0}}, {"hash": "01f963752f304d2c", "line": 94, "col_start": 5, "col_end": 8, "sample_pos": {"line": 94, "character": 5}}, {"hash": "01f963752f304d2c", "line": 95, "col_start": 0, "col_end": 5, "sample_pos": {"line": 95, "character": 0}}, {"hash": "330eb996f77396d8", "line": 95, "col_start": 5, "col_end": 14, "sample_pos": {"line": 95, "character": 5}}, {"hash": "e220392fafd741c1", "line": 95, "col_start": 14, "col_end": 16, "sample_pos": {"line": 95, "character": 14}}, {"hash": "e220392fafd741c1", "line": 96, "col_start": 0, "col_end": 5, "sample_pos": {"line": 96, "character": 0}}, {"hash": "d7064e63adc3d44c", "line": 96, "col_start": 5, "col_end": 59, "sample_pos": {"line": 96, "character": 5}}, {"hash": "56b12f4fe15bc13f", "line": 98, "col_start": 77, "col_end": 79, "sample_pos": {"line": 98, "character": 77}}, {"hash": "56b12f4fe15bc13f", "line": 99, "col_start": 0, "col_end": 7, "sample_pos": {"line": 99, "character": 0}}, {"hash": "038712701bd5febf", "line": 99, "col_start": 7, "col_end": 25, "sample_pos": {"line": 99, "character": 7}}, {"hash": "038712701bd5febf", "line": 100, "col_start": 0, "col_end": 3, "sample_pos": {"line": 100, "character": 0}}, {"hash": "db058e9dff2ffb6b", "line": 100, "col_start": 3, "col_end": 13, "sample_pos": {"line": 100, "character": 3}}, {"hash": "db058e9dff2ffb6b", "line": 101, "col_start": 0, "col_end": 3, "sample_pos": {"line": 101, "character": 0}}, {"hash": "7a86b5f635442f3f", "line": 101, "col_start": 3, "col_end": 5, "sample_pos": {"line": 101, "character": 3}}, {"hash": "d7064e63adc3d44c", "line": 101, "col_start": 5, "col_end": 28, "sample_pos": {"line": 101, "character": 5}}, {"hash": "10dd01a77fb6a9e9", "line": 102, "col_start": 0, "col_end": 5, "sample_pos": {"line": 102, "character": 0}}, {"hash": "d7064e63adc3d44c", "line": 102, "col_start": 5, "col_end": 25, "sample_pos": {"line": 102, "character": 5}}, {"hash": "9221c75d86f21322", "line": 129, "col_start": 38, "col_end": 40, "sample_pos": {"line": 129, "character": 38}}, {"hash": "9221c75d86f21322", "line": 130, "col_start": 0, "col_end": 3, "sample_pos": {"line": 130, "character": 0}}, {"hash": "39be14f0647176f8", "line": 130, "col_start": 3, "col_end": 13, "sample_pos": {"line": 130, "character": 3}}, {"hash": "39be14f0647176f8", "line": 131, "col_start": 0, "col_end": 3, "sample_pos": {"line": 131, "character": 0}}, {"hash": "d903e74ffa13cd9c", "line": 131, "col_start": 3, "col_end": 5, "sample_pos": {"line": 131, "character": 3}}, {"hash": "d7064e63adc3d44c", "line": 131, "col_start": 5, "col_end": 9, "sample_pos": {"line": 131, "character": 5}}, {"hash": "2a9016a1fb414b04", "line": 132, "col_start": 0, "col_end": 5, "sample_pos": {"line": 132, "character": 0}}, {"hash": "d7064e63adc3d44c", "line": 132, "col_start": 5, "col_end": 43, "sample_pos": {"line": 132, "character": 5}}, {"hash": "d7064e63adc3d44c", "line": 135, "col_start": 0, "col_end": 2, "sample_pos": {"line": 135, "character": 0}}, {"hash": "d7064e63adc3d44c", "line": 136, "col_start": 0, "col_end": 18, "sample_pos": {"line": 136, "character": 0}}, {"hash": "d7064e63adc3d44c", "line": 137, "col_start": 0, "col_end": 2, "sample_pos": {"line": 137, "character": 0}}, {"hash": "fdab68441ed3e727", "line": 139, "col_start": 38, "col_end": 40, "sample_pos": {"line": 139, "character": 38}}, {"hash": "fdab68441ed3e727", "line": 140, "col_start": 0, "col_end": 3, "sample_pos": {"line": 140, "character": 0}}, {"hash": "e4e383677dc60a3d", "line": 140, "col_start": 3, "col_end": 13, "sample_pos": {"line": 140, "character": 3}}, {"hash": "e4e383677dc60a3d", "line": 141, "col_start": 0, "col_end": 3, "sample_pos": {"line": 141, "character": 0}}, {"hash": "1b6195e8d1f45843", "line": 141, "col_start": 3, "col_end": 5, "sample_pos": {"line": 141, "character": 3}}, {"hash": "d7064e63adc3d44c", "line": 141, "col_start": 5, "col_end": 13, "sample_pos": {"line": 141, "character": 5}}, {"hash": "d7064e63adc3d44c", "line": 142, "col_start": 0, "col_end": 4, "sample_pos": {"line": 142, "character": 0}}, {"hash": "1b6195e8d1f45843", "line": 142, "col_start": 4, "col_end": 5, "sample_pos": {"line": 142, "character": 4}}, {"hash": "75b19c49be27bda4", "line": 142, "col_start": 5, "col_end": 14, "sample_pos": {"line": 142, "character": 5}}, {"hash": "75b19c49be27bda4", "line": 143, "col_start": 0, "col_end": 79, "sample_pos": {"line": 143, "character": 0}}, {"hash": "75b19c49be27bda4", "line": 144, "col_start": 0, "col_end": 86, "sample_pos": {"line": 144, "character": 0}}, {"hash": "75b19c49be27bda4", "line": 145, "col_start": 0, "col_end": 93, "sample_pos": {"line": 145, "character": 0}}, {"hash": "75b19c49be27bda4", "line": 146, "col_start": 0, "col_end": 5, "sample_pos": {"line": 146, "character": 0}}, {"hash": "b66b1040886e289a", "line": 146, "col_start": 5, "col_end": 21, "sample_pos": {"line": 146, "character": 5}}, {"hash": "b66b1040886e289a", "line": 147, "col_start": 0, "col_end": 33, "sample_pos": {"line": 147, "character": 0}}, {"hash": "b66b1040886e289a", "line": 148, "col_start": 0, "col_end": 43, "sample_pos": {"line": 148, "character": 0}}, {"hash": "b66b1040886e289a", "line": 149, "col_start": 0, "col_end": 45, "sample_pos": {"line": 149, "character": 0}}, {"hash": "b66b1040886e289a", "line": 150, "col_start": 0, "col_end": 57, "sample_pos": {"line": 150, "character": 0}}, {"hash": "b66b1040886e289a", "line": 151, "col_start": 0, "col_end": 57, "sample_pos": {"line": 151, "character": 0}}, {"hash": "b66b1040886e289a", "line": 152, "col_start": 0, "col_end": 92, "sample_pos": {"line": 152, "character": 0}}, {"hash": "b66b1040886e289a", "line": 153, "col_start": 0, "col_end": 55, "sample_pos": {"line": 153, "character": 0}}, {"hash": "b66b1040886e289a", "line": 154, "col_start": 0, "col_end": 5, "sample_pos": {"line": 154, "character": 0}}, {"hash": "0c387e37b7a9d2d0", "line": 154, "col_start": 5, "col_end": 18, "sample_pos": {"line": 154, "character": 5}}, {"hash": "0c387e37b7a9d2d0", "line": 155, "col_start": 0, "col_end": 5, "sample_pos": {"line": 155, "character": 0}}, {"hash": "7183bc63afdab730", "line": 155, "col_start": 5, "col_end": 11, "sample_pos": {"line": 155, "character": 5}}, {"hash": "7183bc63afdab730", "line": 156, "col_start": 0, "col_end": 5, "sample_pos": {"line": 156, "character": 0}}, {"hash": "8cb216db13bb8c38", "line": 156, "col_start": 5, "col_end": 47, "sample_pos": {"line": 156, "character": 5}}, {"hash": "8cb216db13bb8c38", "line": 158, "col_start": 0, "col_end": 59, "sample_pos": {"line": 158, "character": 0}}, {"hash": "8cb216db13bb8c38", "line": 159, "col_start": 0, "col_end": 54, "sample_pos": {"line": 159, "character": 0}}, {"hash": "8cb216db13bb8c38", "line": 160, "col_start": 0, "col_end": 45, "sample_pos": {"line": 160, "character": 0}}, {"hash": "95af6889654c2c3e", "line": 160, "col_start": 45, "col_end": 47, "sample_pos": {"line": 160, "character": 45}}, {"hash": "95af6889654c2c3e", "line": 161, "col_start": 0, "col_end": 7, "sample_pos": {"line": 161, "character": 0}}, {"hash": "4c2ed72e2677a520", "line": 161, "col_start": 7, "col_end": 16, "sample_pos": {"line": 161, "character": 7}}, {"hash": "4c2ed72e2677a520", "line": 162, "col_start": 0, "col_end": 47, "sample_pos": {"line": 162, "character": 0}}, {"hash": "4c2ed72e2677a520", "line": 163, "col_start": 0, "col_end": 18, "sample_pos": {"line": 163, "character": 0}}, {"hash": "d7064e63adc3d44c", "line": 163, "col_start": 18, "col_end": 45, "sample_pos": {"line": 163, "character": 18}}, {"hash": "ba69ff8806490158", "line": 165, "col_start": 0, "col_end": 6, "sample_pos": {"line": 165, "character": 0}}, {"hash": "d7064e63adc3d44c", "line": 165, "col_start": 6, "col_end": 17, "sample_pos": {"line": 165, "character": 6}}, {"hash": "ba69ff8806490158", "line": 166, "col_start": 0, "col_end": 5, "sample_pos": {"line": 166, "character": 0}}, {"hash": "d7064e63adc3d44c", "line": 166, "col_start": 5, "col_end": 24, "sample_pos": {"line": 166, "character": 5}}, {"hash": "4356cb59f3bbbae9", "line": 167, "col_start": 0, "col_end": 3, "sample_pos": {"line": 167, "character": 0}}, {"hash": "4356cb59f3bbbae9", "line": 168, "col_start": 0, "col_end": 84, "sample_pos": {"line": 168, "character": 0}}, {"hash": "4356cb59f3bbbae9", "line": 169, "col_start": 0, "col_end": 100, "sample_pos": {"line": 169, "character": 0}}, {"hash": "4356cb59f3bbbae9", "line": 170, "col_start": 0, "col_end": 91, "sample_pos": {"line": 170, "character": 0}}, {"hash": "4356cb59f3bbbae9", "line": 171, "col_start": 0, "col_end": 59, "sample_pos": {"line": 171, "character": 0}}, {"hash": "4356cb59f3bbbae9", "line": 172, "col_start": 0, "col_end": 98, "sample_pos": {"line": 172, "character": 0}}, {"hash": "4356cb59f3bbbae9", "line": 173, "col_start": 0, "col_end": 42, "sample_pos": {"line": 173, "character": 0}}, {"hash": "4356cb59f3bbbae9", "line": 175, "col_start": 0, "col_end": 5, "sample_pos": {"line": 175, "character": 0}}, {"hash": "5e8c531cd0f0de8b", "line": 175, "col_start": 5, "col_end": 12, "sample_pos": {"line": 175, "character": 5}}, {"hash": "5e8c531cd0f0de8b", "line": 176, "col_start": 0, "col_end": 5, "sample_pos": {"line": 176, "character": 0}}, {"hash": "b63034a5fd8eacdf", "line": 176, "col_start": 5, "col_end": 24, "sample_pos": {"line": 176, "character": 5}}, {"hash": "b63034a5fd8eacdf", "line": 177, "col_start": 0, "col_end": 5, "sample_pos": {"line": 177, "character": 0}}, {"hash": "7cb37f14b0842cdc", "line": 177, "col_start": 5, "col_end": 18, "sample_pos": {"line": 177, "character": 5}}, {"hash": "7cb37f14b0842cdc", "line": 178, "col_start": 0, "col_end": 9, "sample_pos": {"line": 178, "character": 0}}, {"hash": "ee691aebad17ed2c", "line": 178, "col_start": 9, "col_end": 26, "sample_pos": {"line": 178, "character": 9}}, {"hash": "ee691aebad17ed2c", "line": 179, "col_start": 0, "col_end": 9, "sample_pos": {"line": 179, "character": 0}}, {"hash": "f3a8076d778fa4dd", "line": 179, "col_start": 9, "col_end": 18, "sample_pos": {"line": 179, "character": 9}}, {"hash": "f3a8076d778fa4dd", "line": 180, "col_start": 0, "col_end": 5, "sample_pos": {"line": 180, "character": 0}}, {"hash": "22e4121ab81f957b", "line": 180, "col_start": 5, "col_end": 19, "sample_pos": {"line": 180, "character": 5}}, {"hash": "22e4121ab81f957b", "line": 181, "col_start": 0, "col_end": 32, "sample_pos": {"line": 181, "character": 0}}, {"hash": "b46f8208ca17809e", "line": 181, "col_start": 32, "col_end": 36, "sample_pos": {"line": 181, "character": 32}}, {"hash": "d7064e63adc3d44c", "line": 181, "col_start": 36, "col_end": 53, "sample_pos": {"line": 181, "character": 36}}, {"hash": "439acedc0ff24ddd", "line": 182, "col_start": 0, "col_end": 9, "sample_pos": {"line": 182, "character": 0}}, {"hash": "4e4a0aa986a6d300", "line": 182, "col_start": 9, "col_end": 18, "sample_pos": {"line": 182, "character": 9}}, {"hash": "4e4a0aa986a6d300", "line": 183, "col_start": 0, "col_end": 9, "sample_pos": {"line": 183, "character": 0}}, {"hash": "349c4e938b78daf0", "line": 183, "col_start": 9, "col_end": 18, "sample_pos": {"line": 183, "character": 9}}, {"hash": "349c4e938b78daf0", "line": 184, "col_start": 0, "col_end": 5, "sample_pos": {"line": 184, "character": 0}}, {"hash": "d7064e63adc3d44c", "line": 184, "col_start": 5, "col_end": 13, "sample_pos": {"line": 184, "character": 5}}, {"hash": "d7064e63adc3d44c", "line": 186, "col_start": 0, "col_end": 46, "sample_pos": {"line": 186, "character": 0}}, {"hash": "d7064e63adc3d44c", "line": 187, "col_start": 0, "col_end": 60, "sample_pos": {"line": 187, "character": 0}}, {"hash": "d7064e63adc3d44c", "line": 188, "col_start": 0, "col_end": 16, "sample_pos": {"line": 188, "character": 0}}, {"hash": "d7064e63adc3d44c", "line": 189, "col_start": 0, "col_end": 40, "sample_pos": {"line": 189, "character": 0}}, {"hash": "d7064e63adc3d44c", "line": 190, "col_start": 0, "col_end": 30, "sample_pos": {"line": 190, "character": 0}}, {"hash": "d7064e63adc3d44c", "line": 191, "col_start": 0, "col_end": 17, "sample_pos": {"line": 191, "character": 0}}, {"hash": "d7064e63adc3d44c", "line": 192, "col_start": 0, "col_end": 50, "sample_pos": {"line": 192, "character": 0}}, {"hash": "4a18d01fce05380e", "line": 199, "col_start": 54, "col_end": 56, "sample_pos": {"line": 199, "character": 54}}, {"hash": "4a18d01fce05380e", "line": 200, "col_start": 0, "col_end": 3, "sample_pos": {"line": 200, "character": 0}}, {"hash": "d7064e63adc3d44c", "line": 200, "col_start": 3, "col_end": 11, "sample_pos": {"line": 200, "character": 3}}, {"hash": "d7064e63adc3d44c", "line": 201, "col_start": 0, "col_end": 2, "sample_pos": {"line": 201, "character": 0}}, {"hash": "4a18d01fce05380e", "line": 201, "col_start": 2, "col_end": 3, "sample_pos": {"line": 201, "character": 2}}, {"hash": "9c046f2ee91fa5a0", "line": 201, "col_start": 3, "col_end": 36, "sample_pos": {"line": 201, "character": 3}}, {"hash": "9c046f2ee91fa5a0", "line": 202, "col_start": 0, "col_end": 3, "sample_pos": {"line": 202, "character": 0}}, {"hash": "d7064e63adc3d44c", "line": 202, "col_start": 3, "col_end": 13, "sample_pos": {"line": 202, "character": 3}}, {"hash": "d7064e63adc3d44c", "line": 204, "col_start": 0, "col_end": 2, "sample_pos": {"line": 204, "character": 0}}, {"hash": "d7064e63adc3d44c", "line": 205, "col_start": 0, "col_end": 81, "sample_pos": {"line": 205, "character": 0}}, {"hash": "d7064e63adc3d44c", "line": 206, "col_start": 0, "col_end": 44, "sample_pos": {"line": 206, "character": 0}}, {"hash": "d7064e63adc3d44c", "line": 207, "col_start": 0, "col_end": 2, "sample_pos": {"line": 207, "character": 0}}, {"hash": "2f85c17004ccf947", "line": 208, "col_start": 48, "col_end": 50, "sample_pos": {"line": 208, "character": 48}}, {"hash": "2f85c17004ccf947", "line": 209, "col_start": 0, "col_end": 3, "sample_pos": {"line": 209, "character": 0}}, {"hash": "d7064e63adc3d44c", "line": 209, "col_start": 3, "col_end": 11, "sample_pos": {"line": 209, "character": 3}}, {"hash": "d7064e63adc3d44c", "line": 210, "col_start": 0, "col_end": 2, "sample_pos": {"line": 210, "character": 0}}, {"hash": "2f85c17004ccf947", "line": 210, "col_start": 2, "col_end": 3, "sample_pos": {"line": 210, "character": 2}}, {"hash": "d7064e63adc3d44c", "line": 210, "col_start": 3, "col_end": 28, "sample_pos": {"line": 210, "character": 3}}, {"hash": "052e79d7df0e3f68", "line": 226, "col_start": 82, "col_end": 84, "sample_pos": {"line": 226, "character": 82}}, {"hash": "052e79d7df0e3f68", "line": 227, "col_start": 0, "col_end": 64, "sample_pos": {"line": 227, "character": 0}}, {"hash": "052e79d7df0e3f68", "line": 228, "col_start": 0, "col_end": 3, "sample_pos": {"line": 228, "character": 0}}, {"hash": "903335d5c923e5f6", "line": 228, "col_start": 3, "col_end": 9, "sample_pos": {"line": 228, "character": 3}}, {"hash": "903335d5c923e5f6", "line": 229, "col_start": 0, "col_end": 3, "sample_pos": {"line": 229, "character": 0}}, {"hash": "d7064e63adc3d44c", "line": 229, "col_start": 3, "col_end": 19, "sample_pos": {"line": 229, "character": 3}}, {"hash": "d7064e63adc3d44c", "line": 232, "col_start": 0, "col_end": 105, "sample_pos": {"line": 232, "character": 0}}, {"hash": "d7064e63adc3d44c", "line": 233, "col_start": 0, "col_end": 68, "sample_pos": {"line": 233, "character": 0}}, {"hash": "d7064e63adc3d44c", "line": 234, "col_start": 0, "col_end": 73, "sample_pos": {"line": 234, "character": 0}}]}</script>
<script>
  let trace;
  try {
    trace = JSON.parse(document.getElementById("trace-data").textContent);
  } catch (e) {
    console.error("Failed to parse embedded trace-data JSON:", e);
    document.getElementById("goal").textContent = "Error: could not parse trace-data JSON. Check console.";
    throw e;
  }

  const unique = trace.unique_states;
  let active = null;

  function setActive(el) {
    if (active) active.classList.remove("active");
    active = el;
    if (active) active.classList.add("active");
  }

  function renderGoal(hash, ln, a, b) {
    const goalText = unique[hash] ?? "(missing)";
    document.getElementById("goal").textContent = goalText;
    document.getElementById("where").textContent = `hash=${hash}  line=${ln+1}  cols=[${a},${b})`;
  }

  document.querySelectorAll(".hit").forEach(el => {
    el.addEventListener("click", () => {
      setActive(el);
      renderGoal(el.dataset.h, parseInt(el.dataset.ln), parseInt(el.dataset.a), parseInt(el.dataset.b));
    });
  });
</script>
</body>
</html>
